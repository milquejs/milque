!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(((e="undefined"!=typeof globalThis?globalThis:e||self).milque=e.milque||{},e.milque.asset={}))}(this,(function(e){"use strict";var t={},n=Uint8Array,r=Uint16Array,o=Uint32Array,s=new n([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),a=new n([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),i=new n([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),u=function(e,t){for(var n=new r(31),s=0;s<31;++s)n[s]=t+=1<<e[s-1];var a=new o(n[30]);for(s=1;s<30;++s)for(var i=n[s];i<n[s+1];++i)a[i]=i-n[s]<<5|s;return[n,a]},l=u(s,2),c=l[0],p=l[1];c[28]=258,p[258]=28;for(var f=u(a,0)[0],h=new r(32768),_=0;_<32768;++_){var A=(43690&_)>>>1|(21845&_)<<1;A=(61680&(A=(52428&A)>>>2|(13107&A)<<2))>>>4|(3855&A)<<4,h[_]=((65280&A)>>>8|(255&A)<<8)>>>1}var d=function(e,t,n){for(var o=e.length,s=0,a=new r(t);s<o;++s)++a[e[s]-1];var i,u=new r(t);for(s=0;s<t;++s)u[s]=u[s-1]+a[s-1]<<1;if(n){i=new r(1<<t);var l=15-t;for(s=0;s<o;++s)if(e[s])for(var c=s<<4|e[s],p=t-e[s],f=u[e[s]-1]++<<p,_=f|(1<<p)-1;f<=_;++f)i[h[f]>>>l]=c}else for(i=new r(o),s=0;s<o;++s)e[s]&&(i[s]=h[u[e[s]-1]++]>>>15-e[s]);return i},g=new n(288);for(_=0;_<144;++_)g[_]=8;for(_=144;_<256;++_)g[_]=9;for(_=256;_<280;++_)g[_]=7;for(_=280;_<288;++_)g[_]=8;var v=new n(32);for(_=0;_<32;++_)v[_]=5;var b=d(g,9,1),R=d(v,5,1),y=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},E=function(e,t,n){var r=t/8|0;return(e[r]|e[r+1]<<8)>>(7&t)&n},C=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(7&t)},S=function(e){return(e/8|0)+(7&e&&1)},x=function(e,t,s){(null==t||t<0)&&(t=0),(null==s||s>e.length)&&(s=e.length);var a=new(e instanceof r?r:e instanceof o?o:n)(s-t);return a.set(e.subarray(t,s)),a},m=function(e,t,r){var o=e.length;if(!o||r&&!r.l&&o<5)return t||new n(0);var u=!t||r,l=!r||r.i;r||(r={}),t||(t=new n(3*o));var p=function(e){var r=t.length;if(e>r){var o=new n(Math.max(2*r,e));o.set(t),t=o}},h=r.f||0,_=r.p||0,A=r.b||0,g=r.l,v=r.d,m=r.m,H=r.n,$=8*o;do{if(!g){r.f=h=E(e,_,1);var O=E(e,_+1,3);if(_+=3,!O){var T=e[(j=S(_)+4)-4]|e[j-3]<<8,w=j+T;if(w>o){if(l)throw"unexpected EOF";break}u&&p(A+T),t.set(e.subarray(j,w),A),r.b=A+=T,r.p=_=8*w;continue}if(1==O)g=b,v=R,m=9,H=5;else{if(2!=O)throw"invalid block type";var L=E(e,_,31)+257,k=E(e,_+10,15)+4,N=L+E(e,_+5,31)+1;_+=14;for(var I=new n(N),M=new n(19),P=0;P<k;++P)M[i[P]]=E(e,_+3*P,7);_+=3*k;var B=y(M),D=(1<<B)-1,G=d(M,B,1);for(P=0;P<N;){var j,U=G[E(e,_,D)];if(_+=15&U,(j=U>>>4)<16)I[P++]=j;else{var K=0,F=0;for(16==j?(F=3+E(e,_,3),_+=2,K=I[P-1]):17==j?(F=3+E(e,_,7),_+=3):18==j&&(F=11+E(e,_,127),_+=7);F--;)I[P++]=K}}var X=I.subarray(0,L),Q=I.subarray(L);m=y(X),H=y(Q),g=d(X,m,1),v=d(Q,H,1)}if(_>$){if(l)throw"unexpected EOF";break}}u&&p(A+131072);for(var W=(1<<m)-1,q=(1<<H)-1,z=_;;z=_){var Z=(K=g[C(e,_)&W])>>>4;if((_+=15&K)>$){if(l)throw"unexpected EOF";break}if(!K)throw"invalid length/literal";if(Z<256)t[A++]=Z;else{if(256==Z){z=_,g=null;break}var Y=Z-254;if(Z>264){var V=s[P=Z-257];Y=E(e,_,(1<<V)-1)+c[P],_+=V}var J=v[C(e,_)&q],ee=J>>>4;if(!J)throw"invalid distance";_+=15&J;Q=f[ee];if(ee>3){V=a[ee];Q+=C(e,_)&(1<<V)-1,_+=V}if(_>$){if(l)throw"unexpected EOF";break}u&&p(A+131072);for(var te=A+Y;A<te;A+=4)t[A]=t[A-Q],t[A+1]=t[A+1-Q],t[A+2]=t[A+2-Q],t[A+3]=t[A+3-Q];A=te}}r.l=g,r.p=z,r.b=A,g&&(h=1,r.m=m,r.d=v,r.n=H)}while(!h);return A==t.length?t:x(t,0,A)},H=new n(0),$=function(e,t,n){for(var r=e(),o=e.toString(),s=o.slice(o.indexOf("[")+1,o.lastIndexOf("]")).replace(/ /g,"").split(","),a=0;a<r.length;++a){var i=r[a],u=s[a];if("function"==typeof i){t+=";"+u+"=";var l=i.toString();if(i.prototype)if(-1!=l.indexOf("[native code]")){var c=l.indexOf(" ",8)+1;t+=l.slice(c,l.indexOf("(",c))}else for(var p in t+=l,i.prototype)t+=";"+u+".prototype."+p+"="+i.prototype[p].toString();else t+=l}else n[u]=i}return[t,n]},O=[],T=function(e,s,a,i){var u;if(!O[a]){for(var l="",c={},p=e.length-1,f=0;f<p;++f)l=(u=$(e[f],l,c))[0],c=u[1];O[a]=$(e[p],l,c)}var h=function(e,t){var n={};for(var r in e)n[r]=e[r];for(var r in t)n[r]=t[r];return n}({},O[a][1]);return function(e,n,r,o,s){var a=new Worker(t[n]||(t[n]=URL.createObjectURL(new Blob([e],{type:"text/javascript"}))));return a.onerror=function(e){return s(e.error,null)},a.onmessage=function(e){return s(null,e.data)},a.postMessage(r,o),a}(O[a][0]+";onmessage=function(e){for(var k in e.data)self[k]=e.data[k];onmessage="+s.toString()+"}",a,h,function(e){var t=[];for(var s in e)(e[s]instanceof n||e[s]instanceof r||e[s]instanceof o)&&t.push((e[s]=new e[s].constructor(e[s])).buffer);return t}(h),i)},w=function(){return[n,r,o,s,a,i,c,f,b,R,h,d,y,E,C,S,x,m,B,L,k]},L=function(e){return postMessage(e,[e.buffer])},k=function(e){return e&&e.size&&new n(e.size)},N=function(e,t){return e[t]|e[t+1]<<8},I=function(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0},M=function(e,t){return I(e,t)+4294967296*I(e,t+4)};function P(e,t,n){if(n||(n=t,t={}),"function"!=typeof n)throw"no callback";return function(e,t,n,r,o,s){var a=T(n,r,o,(function(e,t){a.terminate(),s(e,t)}));return a.postMessage([e,t],t.consume?[e.buffer]:[]),function(){a.terminate()}}(e,t,[w],(function(e){return L(B(e.data[0],k(e.data[1])))}),1,n)}function B(e,t){return m(e,t)}var D="undefined"!=typeof TextDecoder&&new TextDecoder;try{D.decode(H,{stream:!0}),1}catch(e){}function G(e,t){if(t){for(var n="",r=0;r<e.length;r+=16384)n+=String.fromCharCode.apply(null,e.subarray(r,r+16384));return n}if(D)return D.decode(e);var o=function(e){for(var t="",n=0;;){var r=e[n++],o=(r>127)+(r>223)+(r>239);if(n+o>e.length)return[t,x(e,n-1)];o?3==o?(r=((15&r)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536,t+=String.fromCharCode(55296|r>>10,56320|1023&r)):t+=1&o?String.fromCharCode((31&r)<<6|63&e[n++]):String.fromCharCode((15&r)<<12|(63&e[n++])<<6|63&e[n++]):t+=String.fromCharCode(r)}}(e),s=o[0];if(o[1].length)throw"invalid utf-8 data";return s}var j=function(e,t){for(;1!=N(e,t);t+=4+N(e,t+2));return[M(e,t+12),M(e,t+4),M(e,t+20)]};function U(e,t){if("function"!=typeof t)throw"no callback";for(var r=[],o=function(){for(var e=0;e<r.length;++e)r[e]()},s={},a=e.length-22;101010256!=I(e,a);--a)if(!a||e.length-a>65558)return void t("invalid zip file",null);var i=N(e,a+8);i||t(null,{});var u=i,l=I(e,a+16),c=4294967295==l;if(c){if(a=I(e,a-12),101075792!=I(e,a))return void t("invalid zip file",null);u=i=I(e,a+32),l=I(e,a+48)}for(var p=function(a){var u=function(e,t,n){var r=N(e,t+28),o=G(e.subarray(t+46,t+46+r),!(2048&N(e,t+8))),s=t+46+r,a=I(e,t+20),i=n&&4294967295==a?j(e,s):[a,I(e,t+24),I(e,t+42)],u=i[0],l=i[1],c=i[2];return[N(e,t+10),u,l,o,s+N(e,t+30)+N(e,t+32),c]}(e,l,c),p=u[0],f=u[1],h=u[2],_=u[3],A=u[4],d=u[5],g=function(e,t){return t+30+N(e,t+26)+N(e,t+28)}(e,d);l=A;var v=function(e,n){e?(o(),t(e,null)):(s[_]=n,--i||t(null,s))};if(p)if(8==p){var b=e.subarray(g,g+f);if(f<32e4)try{v(null,B(b,new n(h)))}catch(e){v(e,null)}else r.push(P(b,{size:h},v))}else v("unknown compression type "+p,null);else v(null,x(e,g,g+f))},f=0;f<u;++f)p();return o}function K(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach((function(n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})})),t}function F(e,t){for(var n=0,r=e.length-1;r>=0;r--){var o=e[r];"."===o?e.splice(r,1):".."===o?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}var X=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,Q=function(e){return X.exec(e).slice(1)};function W(){for(var e="",t=!1,n=arguments.length-1;n>=-1&&!t;n--){var r=n>=0?arguments[n]:"/";if("string"!=typeof r)throw new TypeError("Arguments to path.resolve must be strings");r&&(e=r+"/"+e,t="/"===r.charAt(0))}return(t?"/":"")+(e=F(ne(e.split("/"),(function(e){return!!e})),!t).join("/"))||"."}function q(e){var t=z(e),n="/"===re(e,-1);return(e=F(ne(e.split("/"),(function(e){return!!e})),!t).join("/"))||t||(e="."),e&&n&&(e+="/"),(t?"/":"")+e}function z(e){return"/"===e.charAt(0)}function Z(){var e=Array.prototype.slice.call(arguments,0);return q(ne(e,(function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))}function Y(e,t){function n(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=W(e).substr(1),t=W(t).substr(1);for(var r=n(e.split("/")),o=n(t.split("/")),s=Math.min(r.length,o.length),a=s,i=0;i<s;i++)if(r[i]!==o[i]){a=i;break}var u=[];for(i=a;i<r.length;i++)u.push("..");return(u=u.concat(o.slice(a))).join("/")}function V(e){var t=Q(e),n=t[0],r=t[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."}function J(e,t){var n=Q(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n}function ee(e){return Q(e)[3]}var te={extname:ee,basename:J,dirname:V,sep:"/",delimiter:":",relative:Y,join:Z,isAbsolute:z,normalize:q,resolve:W};function ne(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}var re="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)},oe=K(Object.freeze({__proto__:null,resolve:W,normalize:q,isAbsolute:z,join:Z,relative:Y,sep:"/",delimiter:":",dirname:V,basename:J,extname:ee,default:te})),se={};const ae=oe,ie="[^\\\\/]",ue="\\.",le="\\/",ce="[^/]",pe="(?:\\/|$)",fe="(?:^|\\/)",he="\\.{1,2}(?:\\/|$)",_e={DOT_LITERAL:ue,PLUS_LITERAL:"\\+",QMARK_LITERAL:"\\?",SLASH_LITERAL:le,ONE_CHAR:"(?=.)",QMARK:ce,END_ANCHOR:pe,DOTS_SLASH:he,NO_DOT:"(?!\\.)",NO_DOTS:`(?!(?:^|\\/)${he})`,NO_DOT_SLASH:"(?!\\.{0,1}(?:\\/|$))",NO_DOTS_SLASH:`(?!${he})`,QMARK_NO_DOT:"[^.\\/]",STAR:"[^/]*?",START_ANCHOR:fe},Ae={..._e,SLASH_LITERAL:"[\\\\/]",QMARK:ie,STAR:"[^\\\\/]*?",DOTS_SLASH:"\\.{1,2}(?:[\\\\/]|$)",NO_DOT:"(?!\\.)",NO_DOTS:"(?!(?:^|[\\\\/])\\.{1,2}(?:[\\\\/]|$))",NO_DOT_SLASH:"(?!\\.{0,1}(?:[\\\\/]|$))",NO_DOTS_SLASH:"(?!\\.{1,2}(?:[\\\\/]|$))",QMARK_NO_DOT:"[^.\\\\/]",START_ANCHOR:"(?:^|[\\\\/])",END_ANCHOR:"(?:[\\\\/]|$)"};var de={MAX_LENGTH:65536,POSIX_REGEX_SOURCE:{alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"},REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:ae.sep,extglobChars:e=>({"!":{type:"negate",open:"(?:(?!(?:",close:`))${e.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}),globChars:e=>!0===e?Ae:_e};!function(e){const t=oe,n="win32"===process.platform,{REGEX_BACKSLASH:r,REGEX_REMOVE_BACKSLASH:o,REGEX_SPECIAL_CHARS:s,REGEX_SPECIAL_CHARS_GLOBAL:a}=de;e.isObject=e=>null!==e&&"object"==typeof e&&!Array.isArray(e),e.hasRegexChars=e=>s.test(e),e.isRegexChar=t=>1===t.length&&e.hasRegexChars(t),e.escapeRegex=e=>e.replace(a,"\\$1"),e.toPosixSlashes=e=>e.replace(r,"/"),e.removeBackslashes=e=>e.replace(o,(e=>"\\"===e?"":e)),e.supportsLookbehinds=()=>{const e=process.version.slice(1).split(".").map(Number);return 3===e.length&&e[0]>=9||8===e[0]&&e[1]>=10},e.isWindows=e=>e&&"boolean"==typeof e.windows?e.windows:!0===n||"\\"===t.sep,e.escapeLast=(t,n,r)=>{const o=t.lastIndexOf(n,r);return-1===o?t:"\\"===t[o-1]?e.escapeLast(t,n,o-1):`${t.slice(0,o)}\\${t.slice(o)}`},e.removePrefix=(e,t={})=>{let n=e;return n.startsWith("./")&&(n=n.slice(2),t.prefix="./"),n},e.wrapOutput=(e,t={},n={})=>{let r=`${n.contains?"":"^"}(?:${e})${n.contains?"":"$"}`;return!0===t.negated&&(r=`(?:^(?!${r}).*$)`),r}}(se);const ge=se,{CHAR_ASTERISK:ve,CHAR_AT:be,CHAR_BACKWARD_SLASH:Re,CHAR_COMMA:ye,CHAR_DOT:Ee,CHAR_EXCLAMATION_MARK:Ce,CHAR_FORWARD_SLASH:Se,CHAR_LEFT_CURLY_BRACE:xe,CHAR_LEFT_PARENTHESES:me,CHAR_LEFT_SQUARE_BRACKET:He,CHAR_PLUS:$e,CHAR_QUESTION_MARK:Oe,CHAR_RIGHT_CURLY_BRACE:Te,CHAR_RIGHT_PARENTHESES:we,CHAR_RIGHT_SQUARE_BRACKET:Le}=de,ke=e=>e===Se||e===Re,Ne=e=>{!0!==e.isPrefix&&(e.depth=e.isGlobstar?1/0:1)};var Ie=(e,t)=>{const n=t||{},r=e.length-1,o=!0===n.parts||!0===n.scanToEnd,s=[],a=[],i=[];let u,l,c=e,p=-1,f=0,h=0,_=!1,A=!1,d=!1,g=!1,v=!1,b=!1,R=!1,y=!1,E=!1,C=!1,S=0,x={value:"",depth:0,isGlob:!1};const m=()=>p>=r,H=()=>(u=l,c.charCodeAt(++p));for(;p<r;){let e;if(l=H(),l!==Re){if(!0===b||l===xe){for(S++;!0!==m()&&(l=H());)if(l!==Re)if(l!==xe){if(!0!==b&&l===Ee&&(l=H())===Ee){if(_=x.isBrace=!0,d=x.isGlob=!0,C=!0,!0===o)continue;break}if(!0!==b&&l===ye){if(_=x.isBrace=!0,d=x.isGlob=!0,C=!0,!0===o)continue;break}if(l===Te&&(S--,0===S)){b=!1,_=x.isBrace=!0,C=!0;break}}else S++;else R=x.backslashes=!0,H();if(!0===o)continue;break}if(l!==Se){if(!0!==n.noext){if(!0===(l===$e||l===be||l===ve||l===Oe||l===Ce)&&c.charCodeAt(p+1)===me){if(d=x.isGlob=!0,g=x.isExtglob=!0,C=!0,l===Ce&&p===f&&(E=!0),!0===o){for(;!0!==m()&&(l=H());)if(l!==Re){if(l===we){d=x.isGlob=!0,C=!0;break}}else R=x.backslashes=!0,l=H();continue}break}}if(l===ve){if(u===ve&&(v=x.isGlobstar=!0),d=x.isGlob=!0,C=!0,!0===o)continue;break}if(l===Oe){if(d=x.isGlob=!0,C=!0,!0===o)continue;break}if(l===He){for(;!0!==m()&&(e=H());)if(e!==Re){if(e===Le){A=x.isBracket=!0,d=x.isGlob=!0,C=!0;break}}else R=x.backslashes=!0,H();if(!0===o)continue;break}if(!0===n.nonegate||l!==Ce||p!==f){if(!0!==n.noparen&&l===me){if(d=x.isGlob=!0,!0===o){for(;!0!==m()&&(l=H());)if(l!==me){if(l===we){C=!0;break}}else R=x.backslashes=!0,l=H();continue}break}if(!0===d){if(C=!0,!0===o)continue;break}}else y=x.negated=!0,f++}else{if(s.push(p),a.push(x),x={value:"",depth:0,isGlob:!1},!0===C)continue;if(u===Ee&&p===f+1){f+=2;continue}h=p+1}}else R=x.backslashes=!0,l=H(),l===xe&&(b=!0)}!0===n.noext&&(g=!1,d=!1);let $=c,O="",T="";f>0&&(O=c.slice(0,f),c=c.slice(f),h-=f),$&&!0===d&&h>0?($=c.slice(0,h),T=c.slice(h)):!0===d?($="",T=c):$=c,$&&""!==$&&"/"!==$&&$!==c&&ke($.charCodeAt($.length-1))&&($=$.slice(0,-1)),!0===n.unescape&&(T&&(T=ge.removeBackslashes(T)),$&&!0===R&&($=ge.removeBackslashes($)));const w={prefix:O,input:e,start:f,base:$,glob:T,isBrace:_,isBracket:A,isGlob:d,isExtglob:g,isGlobstar:v,negated:y,negatedExtglob:E};if(!0===n.tokens&&(w.maxDepth=0,ke(l)||a.push(x),w.tokens=a),!0===n.parts||!0===n.tokens){let t;for(let r=0;r<s.length;r++){const o=t?t+1:f,u=s[r],l=e.slice(o,u);n.tokens&&(0===r&&0!==f?(a[r].isPrefix=!0,a[r].value=O):a[r].value=l,Ne(a[r]),w.maxDepth+=a[r].depth),0===r&&""===l||i.push(l),t=u}if(t&&t+1<e.length){const r=e.slice(t+1);i.push(r),n.tokens&&(a[a.length-1].value=r,Ne(a[a.length-1]),w.maxDepth+=a[a.length-1].depth)}w.slashes=s,w.parts=i}return w};const Me=de,Pe=se,{MAX_LENGTH:Be,POSIX_REGEX_SOURCE:De,REGEX_NON_SPECIAL_CHARS:Ge,REGEX_SPECIAL_CHARS_BACKREF:je,REPLACEMENTS:Ue}=Me,Ke=(e,t)=>{if("function"==typeof t.expandRange)return t.expandRange(...e,t);e.sort();const n=`[${e.join("-")}]`;try{new RegExp(n)}catch(t){return e.map((e=>Pe.escapeRegex(e))).join("..")}return n},Fe=(e,t)=>`Missing ${e}: "${t}" - use "\\\\${t}" to match literal characters`,Xe=(e,t)=>{if("string"!=typeof e)throw new TypeError("Expected a string");e=Ue[e]||e;const n={...t},r="number"==typeof n.maxLength?Math.min(Be,n.maxLength):Be;let o=e.length;if(o>r)throw new SyntaxError(`Input length: ${o}, exceeds maximum allowed length: ${r}`);const s={type:"bos",value:"",output:n.prepend||""},a=[s],i=n.capture?"":"?:",u=Pe.isWindows(t),l=Me.globChars(u),c=Me.extglobChars(l),{DOT_LITERAL:p,PLUS_LITERAL:f,SLASH_LITERAL:h,ONE_CHAR:_,DOTS_SLASH:A,NO_DOT:d,NO_DOT_SLASH:g,NO_DOTS_SLASH:v,QMARK:b,QMARK_NO_DOT:R,STAR:y,START_ANCHOR:E}=l,C=e=>`(${i}(?:(?!${E}${e.dot?A:p}).)*?)`,S=n.dot?"":d,x=n.dot?b:R;let m=!0===n.bash?C(n):y;n.capture&&(m=`(${m})`),"boolean"==typeof n.noext&&(n.noextglob=n.noext);const H={input:e,index:-1,start:0,dot:!0===n.dot,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:a};e=Pe.removePrefix(e,H),o=e.length;const $=[],O=[],T=[];let w,L=s;const k=()=>H.index===o-1,N=H.peek=(t=1)=>e[H.index+t],I=H.advance=()=>e[++H.index]||"",M=()=>e.slice(H.index+1),P=(e="",t=0)=>{H.consumed+=e,H.index+=t},B=e=>{H.output+=null!=e.output?e.output:e.value,P(e.value)},D=()=>{let e=1;for(;"!"===N()&&("("!==N(2)||"?"===N(3));)I(),H.start++,e++;return e%2!=0&&(H.negated=!0,H.start++,!0)},G=e=>{H[e]++,T.push(e)},j=e=>{H[e]--,T.pop()},U=e=>{if("globstar"===L.type){const t=H.braces>0&&("comma"===e.type||"brace"===e.type),n=!0===e.extglob||$.length&&("pipe"===e.type||"paren"===e.type);"slash"===e.type||"paren"===e.type||t||n||(H.output=H.output.slice(0,-L.output.length),L.type="star",L.value="*",L.output=m,H.output+=L.output)}if($.length&&"paren"!==e.type&&($[$.length-1].inner+=e.value),(e.value||e.output)&&B(e),L&&"text"===L.type&&"text"===e.type)return L.value+=e.value,void(L.output=(L.output||"")+e.value);e.prev=L,a.push(e),L=e},K=(e,t)=>{const r={...c[t],conditions:1,inner:""};r.prev=L,r.parens=H.parens,r.output=H.output;const o=(n.capture?"(":"")+r.open;G("parens"),U({type:e,value:t,output:H.output?"":_}),U({type:"paren",extglob:!0,value:I(),output:o}),$.push(r)},F=e=>{let t,r=e.close+(n.capture?")":"");if("negate"===e.type){let o=m;e.inner&&e.inner.length>1&&e.inner.includes("/")&&(o=C(n)),(o!==m||k()||/^\)+$/.test(M()))&&(r=e.close=`)$))${o}`),e.inner.includes("*")&&(t=M())&&/^\.[^\\/.]+$/.test(t)&&(r=e.close=`)${t})${o})`),"bos"===e.prev.type&&(H.negatedExtglob=!0)}U({type:"paren",extglob:!0,value:w,output:r}),j("parens")};if(!1!==n.fastpaths&&!/(^[*!]|[/()[\]{}"])/.test(e)){let r=!1,o=e.replace(je,((e,t,n,o,s,a)=>"\\"===o?(r=!0,e):"?"===o?t?t+o+(s?b.repeat(s.length):""):0===a?x+(s?b.repeat(s.length):""):b.repeat(n.length):"."===o?p.repeat(n.length):"*"===o?t?t+o+(s?m:""):m:t?e:`\\${e}`));return!0===r&&(o=!0===n.unescape?o.replace(/\\/g,""):o.replace(/\\+/g,(e=>e.length%2==0?"\\\\":e?"\\":""))),o===e&&!0===n.contains?(H.output=e,H):(H.output=Pe.wrapOutput(o,H,t),H)}for(;!k();){if(w=I(),"\0"===w)continue;if("\\"===w){const e=N();if("/"===e&&!0!==n.bash)continue;if("."===e||";"===e)continue;if(!e){w+="\\",U({type:"text",value:w});continue}const t=/^\\+/.exec(M());let r=0;if(t&&t[0].length>2&&(r=t[0].length,H.index+=r,r%2!=0&&(w+="\\")),!0===n.unescape?w=I():w+=I(),0===H.brackets){U({type:"text",value:w});continue}}if(H.brackets>0&&("]"!==w||"["===L.value||"[^"===L.value)){if(!1!==n.posix&&":"===w){const e=L.value.slice(1);if(e.includes("[")&&(L.posix=!0,e.includes(":"))){const e=L.value.lastIndexOf("["),t=L.value.slice(0,e),n=L.value.slice(e+2),r=De[n];if(r){L.value=t+r,H.backtrack=!0,I(),s.output||1!==a.indexOf(L)||(s.output=_);continue}}}("["===w&&":"!==N()||"-"===w&&"]"===N())&&(w=`\\${w}`),"]"!==w||"["!==L.value&&"[^"!==L.value||(w=`\\${w}`),!0===n.posix&&"!"===w&&"["===L.value&&(w="^"),L.value+=w,B({value:w});continue}if(1===H.quotes&&'"'!==w){w=Pe.escapeRegex(w),L.value+=w,B({value:w});continue}if('"'===w){H.quotes=1===H.quotes?0:1,!0===n.keepQuotes&&U({type:"text",value:w});continue}if("("===w){G("parens"),U({type:"paren",value:w});continue}if(")"===w){if(0===H.parens&&!0===n.strictBrackets)throw new SyntaxError(Fe("opening","("));const e=$[$.length-1];if(e&&H.parens===e.parens+1){F($.pop());continue}U({type:"paren",value:w,output:H.parens?")":"\\)"}),j("parens");continue}if("["===w){if(!0!==n.nobracket&&M().includes("]"))G("brackets");else{if(!0!==n.nobracket&&!0===n.strictBrackets)throw new SyntaxError(Fe("closing","]"));w=`\\${w}`}U({type:"bracket",value:w});continue}if("]"===w){if(!0===n.nobracket||L&&"bracket"===L.type&&1===L.value.length){U({type:"text",value:w,output:`\\${w}`});continue}if(0===H.brackets){if(!0===n.strictBrackets)throw new SyntaxError(Fe("opening","["));U({type:"text",value:w,output:`\\${w}`});continue}j("brackets");const e=L.value.slice(1);if(!0===L.posix||"^"!==e[0]||e.includes("/")||(w=`/${w}`),L.value+=w,B({value:w}),!1===n.literalBrackets||Pe.hasRegexChars(e))continue;const t=Pe.escapeRegex(L.value);if(H.output=H.output.slice(0,-L.value.length),!0===n.literalBrackets){H.output+=t,L.value=t;continue}L.value=`(${i}${t}|${L.value})`,H.output+=L.value;continue}if("{"===w&&!0!==n.nobrace){G("braces");const e={type:"brace",value:w,output:"(",outputIndex:H.output.length,tokensIndex:H.tokens.length};O.push(e),U(e);continue}if("}"===w){const e=O[O.length-1];if(!0===n.nobrace||!e){U({type:"text",value:w,output:w});continue}let t=")";if(!0===e.dots){const e=a.slice(),r=[];for(let t=e.length-1;t>=0&&(a.pop(),"brace"!==e[t].type);t--)"dots"!==e[t].type&&r.unshift(e[t].value);t=Ke(r,n),H.backtrack=!0}if(!0!==e.comma&&!0!==e.dots){const n=H.output.slice(0,e.outputIndex),r=H.tokens.slice(e.tokensIndex);e.value=e.output="\\{",w=t="\\}",H.output=n;for(const e of r)H.output+=e.output||e.value}U({type:"brace",value:w,output:t}),j("braces"),O.pop();continue}if("|"===w){$.length>0&&$[$.length-1].conditions++,U({type:"text",value:w});continue}if(","===w){let e=w;const t=O[O.length-1];t&&"braces"===T[T.length-1]&&(t.comma=!0,e="|"),U({type:"comma",value:w,output:e});continue}if("/"===w){if("dot"===L.type&&H.index===H.start+1){H.start=H.index+1,H.consumed="",H.output="",a.pop(),L=s;continue}U({type:"slash",value:w,output:h});continue}if("."===w){if(H.braces>0&&"dot"===L.type){"."===L.value&&(L.output=p);const e=O[O.length-1];L.type="dots",L.output+=w,L.value+=w,e.dots=!0;continue}if(H.braces+H.parens===0&&"bos"!==L.type&&"slash"!==L.type){U({type:"text",value:w,output:p});continue}U({type:"dot",value:w,output:p});continue}if("?"===w){if(!(L&&"("===L.value)&&!0!==n.noextglob&&"("===N()&&"?"!==N(2)){K("qmark",w);continue}if(L&&"paren"===L.type){const e=N();let t=w;if("<"===e&&!Pe.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");("("===L.value&&!/[!=<:]/.test(e)||"<"===e&&!/<([!=]|\w+>)/.test(M()))&&(t=`\\${w}`),U({type:"text",value:w,output:t});continue}if(!0!==n.dot&&("slash"===L.type||"bos"===L.type)){U({type:"qmark",value:w,output:R});continue}U({type:"qmark",value:w,output:b});continue}if("!"===w){if(!0!==n.noextglob&&"("===N()&&("?"!==N(2)||!/[!=<:]/.test(N(3)))){K("negate",w);continue}if(!0!==n.nonegate&&0===H.index){D();continue}}if("+"===w){if(!0!==n.noextglob&&"("===N()&&"?"!==N(2)){K("plus",w);continue}if(L&&"("===L.value||!1===n.regex){U({type:"plus",value:w,output:f});continue}if(L&&("bracket"===L.type||"paren"===L.type||"brace"===L.type)||H.parens>0){U({type:"plus",value:w});continue}U({type:"plus",value:f});continue}if("@"===w){if(!0!==n.noextglob&&"("===N()&&"?"!==N(2)){U({type:"at",extglob:!0,value:w,output:""});continue}U({type:"text",value:w});continue}if("*"!==w){"$"!==w&&"^"!==w||(w=`\\${w}`);const e=Ge.exec(M());e&&(w+=e[0],H.index+=e[0].length),U({type:"text",value:w});continue}if(L&&("globstar"===L.type||!0===L.star)){L.type="star",L.star=!0,L.value+=w,L.output=m,H.backtrack=!0,H.globstar=!0,P(w);continue}let t=M();if(!0!==n.noextglob&&/^\([^?]/.test(t)){K("star",w);continue}if("star"===L.type){if(!0===n.noglobstar){P(w);continue}const r=L.prev,o=r.prev,s="slash"===r.type||"bos"===r.type,a=o&&("star"===o.type||"globstar"===o.type);if(!0===n.bash&&(!s||t[0]&&"/"!==t[0])){U({type:"star",value:w,output:""});continue}const i=H.braces>0&&("comma"===r.type||"brace"===r.type),u=$.length&&("pipe"===r.type||"paren"===r.type);if(!s&&"paren"!==r.type&&!i&&!u){U({type:"star",value:w,output:""});continue}for(;"/**"===t.slice(0,3);){const n=e[H.index+4];if(n&&"/"!==n)break;t=t.slice(3),P("/**",3)}if("bos"===r.type&&k()){L.type="globstar",L.value+=w,L.output=C(n),H.output=L.output,H.globstar=!0,P(w);continue}if("slash"===r.type&&"bos"!==r.prev.type&&!a&&k()){H.output=H.output.slice(0,-(r.output+L.output).length),r.output=`(?:${r.output}`,L.type="globstar",L.output=C(n)+(n.strictSlashes?")":"|$)"),L.value+=w,H.globstar=!0,H.output+=r.output+L.output,P(w);continue}if("slash"===r.type&&"bos"!==r.prev.type&&"/"===t[0]){const e=void 0!==t[1]?"|$":"";H.output=H.output.slice(0,-(r.output+L.output).length),r.output=`(?:${r.output}`,L.type="globstar",L.output=`${C(n)}${h}|${h}${e})`,L.value+=w,H.output+=r.output+L.output,H.globstar=!0,P(w+I()),U({type:"slash",value:"/",output:""});continue}if("bos"===r.type&&"/"===t[0]){L.type="globstar",L.value+=w,L.output=`(?:^|${h}|${C(n)}${h})`,H.output=L.output,H.globstar=!0,P(w+I()),U({type:"slash",value:"/",output:""});continue}H.output=H.output.slice(0,-L.output.length),L.type="globstar",L.output=C(n),L.value+=w,H.output+=L.output,H.globstar=!0,P(w);continue}const r={type:"star",value:w,output:m};!0!==n.bash?!L||"bracket"!==L.type&&"paren"!==L.type||!0!==n.regex?(H.index!==H.start&&"slash"!==L.type&&"dot"!==L.type||("dot"===L.type?(H.output+=g,L.output+=g):!0===n.dot?(H.output+=v,L.output+=v):(H.output+=S,L.output+=S),"*"!==N()&&(H.output+=_,L.output+=_)),U(r)):(r.output=w,U(r)):(r.output=".*?","bos"!==L.type&&"slash"!==L.type||(r.output=S+r.output),U(r))}for(;H.brackets>0;){if(!0===n.strictBrackets)throw new SyntaxError(Fe("closing","]"));H.output=Pe.escapeLast(H.output,"["),j("brackets")}for(;H.parens>0;){if(!0===n.strictBrackets)throw new SyntaxError(Fe("closing",")"));H.output=Pe.escapeLast(H.output,"("),j("parens")}for(;H.braces>0;){if(!0===n.strictBrackets)throw new SyntaxError(Fe("closing","}"));H.output=Pe.escapeLast(H.output,"{"),j("braces")}if(!0===n.strictSlashes||"star"!==L.type&&"bracket"!==L.type||U({type:"maybe_slash",value:"",output:`${h}?`}),!0===H.backtrack){H.output="";for(const e of H.tokens)H.output+=null!=e.output?e.output:e.value,e.suffix&&(H.output+=e.suffix)}return H};Xe.fastpaths=(e,t)=>{const n={...t},r="number"==typeof n.maxLength?Math.min(Be,n.maxLength):Be,o=e.length;if(o>r)throw new SyntaxError(`Input length: ${o}, exceeds maximum allowed length: ${r}`);e=Ue[e]||e;const s=Pe.isWindows(t),{DOT_LITERAL:a,SLASH_LITERAL:i,ONE_CHAR:u,DOTS_SLASH:l,NO_DOT:c,NO_DOTS:p,NO_DOTS_SLASH:f,STAR:h,START_ANCHOR:_}=Me.globChars(s),A=n.dot?p:c,d=n.dot?f:c,g=n.capture?"":"?:";let v=!0===n.bash?".*?":h;n.capture&&(v=`(${v})`);const b=e=>!0===e.noglobstar?v:`(${g}(?:(?!${_}${e.dot?l:a}).)*?)`,R=e=>{switch(e){case"*":return`${A}${u}${v}`;case".*":return`${a}${u}${v}`;case"*.*":return`${A}${v}${a}${u}${v}`;case"*/*":return`${A}${v}${i}${u}${d}${v}`;case"**":return A+b(n);case"**/*":return`(?:${A}${b(n)}${i})?${d}${u}${v}`;case"**/*.*":return`(?:${A}${b(n)}${i})?${d}${v}${a}${u}${v}`;case"**/.*":return`(?:${A}${b(n)}${i})?${a}${u}${v}`;default:{const t=/^(.*?)\.(\w+)$/.exec(e);if(!t)return;const n=R(t[1]);if(!n)return;return n+a+t[2]}}},y=Pe.removePrefix(e,{negated:!1,prefix:""});let E=R(y);return E&&!0!==n.strictSlashes&&(E+=`${i}?`),E};const Qe=oe,We=Ie,qe=Xe,ze=se,Ze=de,Ye=(e,t,n=!1)=>{if(Array.isArray(e)){const r=e.map((e=>Ye(e,t,n)));return e=>{for(const t of r){const n=t(e);if(n)return n}return!1}}const r=(o=e)&&"object"==typeof o&&!Array.isArray(o)&&e.tokens&&e.input;var o;if(""===e||"string"!=typeof e&&!r)throw new TypeError("Expected pattern to be a non-empty string");const s=t||{},a=ze.isWindows(t),i=r?Ye.compileRe(e,t):Ye.makeRe(e,t,!1,!0),u=i.state;delete i.state;let l=()=>!1;if(s.ignore){const e={...t,ignore:null,onMatch:null,onResult:null};l=Ye(s.ignore,e,n)}const c=(n,r=!1)=>{const{isMatch:o,match:c,output:p}=Ye.test(n,i,t,{glob:e,posix:a}),f={glob:e,state:u,regex:i,posix:a,input:n,output:p,match:c,isMatch:o};return"function"==typeof s.onResult&&s.onResult(f),!1===o?(f.isMatch=!1,!!r&&f):l(n)?("function"==typeof s.onIgnore&&s.onIgnore(f),f.isMatch=!1,!!r&&f):("function"==typeof s.onMatch&&s.onMatch(f),!r||f)};return n&&(c.state=u),c};Ye.test=(e,t,n,{glob:r,posix:o}={})=>{if("string"!=typeof e)throw new TypeError("Expected input to be a string");if(""===e)return{isMatch:!1,output:""};const s=n||{},a=s.format||(o?ze.toPosixSlashes:null);let i=e===r,u=i&&a?a(e):e;return!1===i&&(u=a?a(e):e,i=u===r),!1!==i&&!0!==s.capture||(i=!0===s.matchBase||!0===s.basename?Ye.matchBase(e,t,n,o):t.exec(u)),{isMatch:Boolean(i),match:i,output:u}},Ye.matchBase=(e,t,n,r=ze.isWindows(n))=>(t instanceof RegExp?t:Ye.makeRe(t,n)).test(Qe.basename(e)),Ye.isMatch=(e,t,n)=>Ye(t,n)(e),Ye.parse=(e,t)=>Array.isArray(e)?e.map((e=>Ye.parse(e,t))):qe(e,{...t,fastpaths:!1}),Ye.scan=(e,t)=>We(e,t),Ye.compileRe=(e,t,n=!1,r=!1)=>{if(!0===n)return e.output;const o=t||{},s=o.contains?"":"^",a=o.contains?"":"$";let i=`${s}(?:${e.output})${a}`;e&&!0===e.negated&&(i=`^(?!${i}).*$`);const u=Ye.toRegex(i,t);return!0===r&&(u.state=e),u},Ye.makeRe=(e,t={},n=!1,r=!1)=>{if(!e||"string"!=typeof e)throw new TypeError("Expected a non-empty string");let o={negated:!1,fastpaths:!0};return!1===t.fastpaths||"."!==e[0]&&"*"!==e[0]||(o.output=qe.fastpaths(e,t)),o.output||(o=qe(e,t)),Ye.compileRe(o,t,n,r)},Ye.toRegex=(e,t)=>{try{const n=t||{};return new RegExp(e,n.flags||(n.nocase?"i":""))}catch(e){if(t&&!0===t.debug)throw e;return/$^/}},Ye.constants=Ze;var Ve=Ye;class Je{constructor(){this._buffers={}}clear(){this._buffers={}}put(e,t){this._buffers[e]=t}get(e){return this._buffers[e]}keys(){return Object.keys(this._buffers)}}function et(e){return this.test(e)}class tt extends HTMLElement{static createFileMatcher(e){if("string"==typeof e){let t=Ve.makeRe(e),n=et.bind(t);return n.key=e,n}if(e instanceof RegExp){let t=e,n=et.bind(t);return n.key=e.source,n}throw new Error("Filter must be either a RegExp or glob string.")}static get[Symbol.for("templateNode")](){let e=document.createElement("template");return e.innerHTML="",Object.defineProperty(this,Symbol.for("templateNode"),{value:e}),e}static get[Symbol.for("styleNode")](){let e=document.createElement("style");return e.innerHTML="",Object.defineProperty(this,Symbol.for("styleNode"),{value:e}),e}static define(e=window.customElements){e.define("asset-pack",tt)}static get observedAttributes(){return["src"]}set src(e){this.setAttribute("src",e)}get src(){return this._src}constructor(){super(),this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(this.constructor[Symbol.for("templateNode")].content.cloneNode(!0)),this.shadowRoot.appendChild(this.constructor[Symbol.for("styleNode")].cloneNode(!0)),this._src="",this._files=new Je,this._cache={},this._loading={},this.onLoad=this.onLoad.bind(this),this.loaded=!1}get files(){return this._files}cacheAsset(e,t,n={}){const{ephemeral:r}=n,o=this._cache[e],s=this._loading[e];this._cache[e]=t,this.dispatchEvent(new CustomEvent("cache",{composed:!0,bubbles:!1,detail:{uri:e,current:t}})),s&&(s.resolve(t),delete this._loading[t]),r&&this._cache[t]===t&&(o?this._cache[t]=o:delete this._cache[t])}async loadAsset(e,t=5e3){let n=this._cache[e];if(n)return n;if(e in this._loading)return this._loading[e].promise;{let n=new nt(t);return this._loading[e]=n,n.promise}}clearAssets(){for(let e of Object.values(this._loading))e.reject(new Error("Stop loading to clear all assets."));this._loading={},this._cache={}}deleteAsset(e){e in this._loading&&(this._loading[e].reject(new Error("Stop loading to delete asset.")),delete this._loading[e]),e in this._cache&&delete this._cache[e]}getAsset(e){return this._cache[e]}getAssetURIs(){return Object.keys(this._cache)}hasAsset(e){let t=this._cache[e];return!!t&&Boolean(t)}isAssetCached(e){return e in this._cache}isAssetLoading(e){return e in this._loading}connectedCallback(){!function(e,t){if(Object.prototype.hasOwnProperty.call(e,t)){let n=e[t];delete e[t],e[t]=n}}(this,"src")}attributeChangedCallback(e,t,n){switch(e){case"src":this._src=n,n&&(this.loaded=!1,fetch(n).then(this.onLoad).catch((e=>console.error(`Failed to load asset pack: ${e}`))))}}async onLoad(e){let t=await e.arrayBuffer();await new Promise(((e,n)=>{U(new Uint8Array(t),((t,r)=>{if(t)n(t);else{let t=this._files;Promise.all(Object.entries(r).map((([e,n])=>(t.put(e,n),this.cacheAsset(e,n))))).then((()=>e())).catch(n)}}))})),this.dispatchEvent(new CustomEvent("load",{composed:!0})),this.loaded=!0}}tt.define();class nt{constructor(e){this._resolve=null,this._reject=null,this._reason=null,this._value=null,this._timeoutHandle=e>0?setTimeout((()=>{this.reject(`Asset loading exceeded timeout of ${e} ms.`)}),e):null,this._promise=new Promise(((e,t)=>{this._value?e(this._value):this._resolve=e,this._reason?t(this._reason):this._reject=t}))}get promise(){return this._promise}resolve(e){this._timeoutHandle&&(clearTimeout(this._timeoutHandle),this._timeoutHandle=null),this._resolve?this._resolve(e):this._value=e}reject(e){this._timeoutHandle&&(clearTimeout(this._timeoutHandle),this._timeoutHandle=null),this._reject?this._reject(e):this._reason=e}}e.AssetPack=tt,Object.defineProperty(e,"__esModule",{value:!0})}));
