!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(((t="undefined"!=typeof globalThis?globalThis:t||self).milque=t.milque||{},t.milque.asset={}))}(this,(function(t){"use strict";function e(t){if(t.__esModule)return t;var e=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(t).forEach((function(n){var r=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,r.get?r:{enumerable:!0,get:function(){return t[n]}})})),e}function n(t,e){for(var n=0,r=t.length-1;r>=0;r--){var o=t[r];"."===o?t.splice(r,1):".."===o?(t.splice(r,1),n++):n&&(t.splice(r,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}var r=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,o=function(t){return r.exec(t).slice(1)};function u(){for(var t="",e=!1,r=arguments.length-1;r>=-1&&!e;r--){var o=r>=0?arguments[r]:"/";if("string"!=typeof o)throw new TypeError("Arguments to path.resolve must be strings");o&&(t=o+"/"+t,e="/"===o.charAt(0))}return(e?"/":"")+(t=n(g(t.split("/"),(function(t){return!!t})),!e).join("/"))||"."}function s(t){var e=a(t),r="/"===A(t,-1);return(t=n(g(t.split("/"),(function(t){return!!t})),!e).join("/"))||e||(t="."),t&&r&&(t+="/"),(e?"/":"")+t}function a(t){return"/"===t.charAt(0)}function i(){var t=Array.prototype.slice.call(arguments,0);return s(g(t,(function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t})).join("/"))}function l(t,e){function n(t){for(var e=0;e<t.length&&""===t[e];e++);for(var n=t.length-1;n>=0&&""===t[n];n--);return e>n?[]:t.slice(e,n-e+1)}t=u(t).substr(1),e=u(e).substr(1);for(var r=n(t.split("/")),o=n(e.split("/")),s=Math.min(r.length,o.length),a=s,i=0;i<s;i++)if(r[i]!==o[i]){a=i;break}var l=[];for(i=a;i<r.length;i++)l.push("..");return(l=l.concat(o.slice(a))).join("/")}function c(t){var e=o(t),n=e[0],r=e[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."}function p(t,e){var n=o(t)[2];return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n}function f(t){return o(t)[3]}var h={extname:f,basename:p,dirname:c,sep:"/",delimiter:":",relative:l,join:i,isAbsolute:a,normalize:s,resolve:u};function g(t,e){if(t.filter)return t.filter(e);for(var n=[],r=0;r<t.length;r++)e(t[r],r,t)&&n.push(t[r]);return n}var A="b"==="ab".substr(-1)?function(t,e,n){return t.substr(e,n)}:function(t,e,n){return e<0&&(e=t.length+e),t.substr(e,n)},_=e(Object.freeze({__proto__:null,resolve:u,normalize:s,isAbsolute:a,join:i,relative:l,sep:"/",delimiter:":",dirname:c,basename:p,extname:f,default:h})),v={};const R=_,d="[^\\\\/]",b="\\.",y="\\/",E="[^/]",C="(?:\\/|$)",x="(?:^|\\/)",S="\\.{1,2}(?:\\/|$)",m={DOT_LITERAL:b,PLUS_LITERAL:"\\+",QMARK_LITERAL:"\\?",SLASH_LITERAL:y,ONE_CHAR:"(?=.)",QMARK:E,END_ANCHOR:C,DOTS_SLASH:S,NO_DOT:"(?!\\.)",NO_DOTS:`(?!(?:^|\\/)${S})`,NO_DOT_SLASH:"(?!\\.{0,1}(?:\\/|$))",NO_DOTS_SLASH:`(?!${S})`,QMARK_NO_DOT:"[^.\\/]",STAR:"[^/]*?",START_ANCHOR:x},H={...m,SLASH_LITERAL:"[\\\\/]",QMARK:d,STAR:"[^\\\\/]*?",DOTS_SLASH:"\\.{1,2}(?:[\\\\/]|$)",NO_DOT:"(?!\\.)",NO_DOTS:"(?!(?:^|[\\\\/])\\.{1,2}(?:[\\\\/]|$))",NO_DOT_SLASH:"(?!\\.{0,1}(?:[\\\\/]|$))",NO_DOTS_SLASH:"(?!\\.{1,2}(?:[\\\\/]|$))",QMARK_NO_DOT:"[^.\\\\/]",START_ANCHOR:"(?:^|[\\\\/])",END_ANCHOR:"(?:[\\\\/]|$)"};var $={MAX_LENGTH:65536,POSIX_REGEX_SOURCE:{alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"},REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:R.sep,extglobChars:t=>({"!":{type:"negate",open:"(?:(?!(?:",close:`))${t.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}),globChars:t=>!0===t?H:m};!function(t){const e=_,n="win32"===process.platform,{REGEX_BACKSLASH:r,REGEX_REMOVE_BACKSLASH:o,REGEX_SPECIAL_CHARS:u,REGEX_SPECIAL_CHARS_GLOBAL:s}=$;t.isObject=t=>null!==t&&"object"==typeof t&&!Array.isArray(t),t.hasRegexChars=t=>u.test(t),t.isRegexChar=e=>1===e.length&&t.hasRegexChars(e),t.escapeRegex=t=>t.replace(s,"\\$1"),t.toPosixSlashes=t=>t.replace(r,"/"),t.removeBackslashes=t=>t.replace(o,(t=>"\\"===t?"":t)),t.supportsLookbehinds=()=>{const t=process.version.slice(1).split(".").map(Number);return 3===t.length&&t[0]>=9||8===t[0]&&t[1]>=10},t.isWindows=t=>t&&"boolean"==typeof t.windows?t.windows:!0===n||"\\"===e.sep,t.escapeLast=(e,n,r)=>{const o=e.lastIndexOf(n,r);return-1===o?e:"\\"===e[o-1]?t.escapeLast(e,n,o-1):`${e.slice(0,o)}\\${e.slice(o)}`},t.removePrefix=(t,e={})=>{let n=t;return n.startsWith("./")&&(n=n.slice(2),e.prefix="./"),n},t.wrapOutput=(t,e={},n={})=>{let r=`${n.contains?"":"^"}(?:${t})${n.contains?"":"$"}`;return!0===e.negated&&(r=`(?:^(?!${r}).*$)`),r}}(v);const O=v,{CHAR_ASTERISK:w,CHAR_AT:T,CHAR_BACKWARD_SLASH:L,CHAR_COMMA:k,CHAR_DOT:N,CHAR_EXCLAMATION_MARK:I,CHAR_FORWARD_SLASH:M,CHAR_LEFT_CURLY_BRACE:B,CHAR_LEFT_PARENTHESES:D,CHAR_LEFT_SQUARE_BRACKET:P,CHAR_PLUS:G,CHAR_QUESTION_MARK:j,CHAR_RIGHT_CURLY_BRACE:U,CHAR_RIGHT_PARENTHESES:K,CHAR_RIGHT_SQUARE_BRACKET:F}=$,X=t=>t===M||t===L,Q=t=>{!0!==t.isPrefix&&(t.depth=t.isGlobstar?1/0:1)};var W=(t,e)=>{const n=e||{},r=t.length-1,o=!0===n.parts||!0===n.scanToEnd,u=[],s=[],a=[];let i,l,c=t,p=-1,f=0,h=0,g=!1,A=!1,_=!1,v=!1,R=!1,d=!1,b=!1,y=!1,E=!1,C=!1,x=0,S={value:"",depth:0,isGlob:!1};const m=()=>p>=r,H=()=>(i=l,c.charCodeAt(++p));for(;p<r;){let t;if(l=H(),l!==L){if(!0===d||l===B){for(x++;!0!==m()&&(l=H());)if(l!==L)if(l!==B){if(!0!==d&&l===N&&(l=H())===N){if(g=S.isBrace=!0,_=S.isGlob=!0,C=!0,!0===o)continue;break}if(!0!==d&&l===k){if(g=S.isBrace=!0,_=S.isGlob=!0,C=!0,!0===o)continue;break}if(l===U&&(x--,0===x)){d=!1,g=S.isBrace=!0,C=!0;break}}else x++;else b=S.backslashes=!0,H();if(!0===o)continue;break}if(l!==M){if(!0!==n.noext){if(!0===(l===G||l===T||l===w||l===j||l===I)&&c.charCodeAt(p+1)===D){if(_=S.isGlob=!0,v=S.isExtglob=!0,C=!0,l===I&&p===f&&(E=!0),!0===o){for(;!0!==m()&&(l=H());)if(l!==L){if(l===K){_=S.isGlob=!0,C=!0;break}}else b=S.backslashes=!0,l=H();continue}break}}if(l===w){if(i===w&&(R=S.isGlobstar=!0),_=S.isGlob=!0,C=!0,!0===o)continue;break}if(l===j){if(_=S.isGlob=!0,C=!0,!0===o)continue;break}if(l===P){for(;!0!==m()&&(t=H());)if(t!==L){if(t===F){A=S.isBracket=!0,_=S.isGlob=!0,C=!0;break}}else b=S.backslashes=!0,H();if(!0===o)continue;break}if(!0===n.nonegate||l!==I||p!==f){if(!0!==n.noparen&&l===D){if(_=S.isGlob=!0,!0===o){for(;!0!==m()&&(l=H());)if(l!==D){if(l===K){C=!0;break}}else b=S.backslashes=!0,l=H();continue}break}if(!0===_){if(C=!0,!0===o)continue;break}}else y=S.negated=!0,f++}else{if(u.push(p),s.push(S),S={value:"",depth:0,isGlob:!1},!0===C)continue;if(i===N&&p===f+1){f+=2;continue}h=p+1}}else b=S.backslashes=!0,l=H(),l===B&&(d=!0)}!0===n.noext&&(v=!1,_=!1);let $=c,W="",z="";f>0&&(W=c.slice(0,f),c=c.slice(f),h-=f),$&&!0===_&&h>0?($=c.slice(0,h),z=c.slice(h)):!0===_?($="",z=c):$=c,$&&""!==$&&"/"!==$&&$!==c&&X($.charCodeAt($.length-1))&&($=$.slice(0,-1)),!0===n.unescape&&(z&&(z=O.removeBackslashes(z)),$&&!0===b&&($=O.removeBackslashes($)));const q={prefix:W,input:t,start:f,base:$,glob:z,isBrace:g,isBracket:A,isGlob:_,isExtglob:v,isGlobstar:R,negated:y,negatedExtglob:E};if(!0===n.tokens&&(q.maxDepth=0,X(l)||s.push(S),q.tokens=s),!0===n.parts||!0===n.tokens){let e;for(let r=0;r<u.length;r++){const o=e?e+1:f,i=u[r],l=t.slice(o,i);n.tokens&&(0===r&&0!==f?(s[r].isPrefix=!0,s[r].value=W):s[r].value=l,Q(s[r]),q.maxDepth+=s[r].depth),0===r&&""===l||a.push(l),e=i}if(e&&e+1<t.length){const r=t.slice(e+1);a.push(r),n.tokens&&(s[s.length-1].value=r,Q(s[s.length-1]),q.maxDepth+=s[s.length-1].depth)}q.slashes=u,q.parts=a}return q};const z=$,q=v,{MAX_LENGTH:Z,POSIX_REGEX_SOURCE:Y,REGEX_NON_SPECIAL_CHARS:V,REGEX_SPECIAL_CHARS_BACKREF:J,REPLACEMENTS:tt}=z,et=(t,e)=>{if("function"==typeof e.expandRange)return e.expandRange(...t,e);t.sort();const n=`[${t.join("-")}]`;try{new RegExp(n)}catch(e){return t.map((t=>q.escapeRegex(t))).join("..")}return n},nt=(t,e)=>`Missing ${t}: "${e}" - use "\\\\${e}" to match literal characters`,rt=(t,e)=>{if("string"!=typeof t)throw new TypeError("Expected a string");t=tt[t]||t;const n={...e},r="number"==typeof n.maxLength?Math.min(Z,n.maxLength):Z;let o=t.length;if(o>r)throw new SyntaxError(`Input length: ${o}, exceeds maximum allowed length: ${r}`);const u={type:"bos",value:"",output:n.prepend||""},s=[u],a=n.capture?"":"?:",i=q.isWindows(e),l=z.globChars(i),c=z.extglobChars(l),{DOT_LITERAL:p,PLUS_LITERAL:f,SLASH_LITERAL:h,ONE_CHAR:g,DOTS_SLASH:A,NO_DOT:_,NO_DOT_SLASH:v,NO_DOTS_SLASH:R,QMARK:d,QMARK_NO_DOT:b,STAR:y,START_ANCHOR:E}=l,C=t=>`(${a}(?:(?!${E}${t.dot?A:p}).)*?)`,x=n.dot?"":_,S=n.dot?d:b;let m=!0===n.bash?C(n):y;n.capture&&(m=`(${m})`),"boolean"==typeof n.noext&&(n.noextglob=n.noext);const H={input:t,index:-1,start:0,dot:!0===n.dot,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:s};t=q.removePrefix(t,H),o=t.length;const $=[],O=[],w=[];let T,L=u;const k=()=>H.index===o-1,N=H.peek=(e=1)=>t[H.index+e],I=H.advance=()=>t[++H.index]||"",M=()=>t.slice(H.index+1),B=(t="",e=0)=>{H.consumed+=t,H.index+=e},D=t=>{H.output+=null!=t.output?t.output:t.value,B(t.value)},P=()=>{let t=1;for(;"!"===N()&&("("!==N(2)||"?"===N(3));)I(),H.start++,t++;return t%2!=0&&(H.negated=!0,H.start++,!0)},G=t=>{H[t]++,w.push(t)},j=t=>{H[t]--,w.pop()},U=t=>{if("globstar"===L.type){const e=H.braces>0&&("comma"===t.type||"brace"===t.type),n=!0===t.extglob||$.length&&("pipe"===t.type||"paren"===t.type);"slash"===t.type||"paren"===t.type||e||n||(H.output=H.output.slice(0,-L.output.length),L.type="star",L.value="*",L.output=m,H.output+=L.output)}if($.length&&"paren"!==t.type&&($[$.length-1].inner+=t.value),(t.value||t.output)&&D(t),L&&"text"===L.type&&"text"===t.type)return L.value+=t.value,void(L.output=(L.output||"")+t.value);t.prev=L,s.push(t),L=t},K=(t,e)=>{const r={...c[e],conditions:1,inner:""};r.prev=L,r.parens=H.parens,r.output=H.output;const o=(n.capture?"(":"")+r.open;G("parens"),U({type:t,value:e,output:H.output?"":g}),U({type:"paren",extglob:!0,value:I(),output:o}),$.push(r)},F=t=>{let e,r=t.close+(n.capture?")":"");if("negate"===t.type){let o=m;t.inner&&t.inner.length>1&&t.inner.includes("/")&&(o=C(n)),(o!==m||k()||/^\)+$/.test(M()))&&(r=t.close=`)$))${o}`),t.inner.includes("*")&&(e=M())&&/^\.[^\\/.]+$/.test(e)&&(r=t.close=`)${e})${o})`),"bos"===t.prev.type&&(H.negatedExtglob=!0)}U({type:"paren",extglob:!0,value:T,output:r}),j("parens")};if(!1!==n.fastpaths&&!/(^[*!]|[/()[\]{}"])/.test(t)){let r=!1,o=t.replace(J,((t,e,n,o,u,s)=>"\\"===o?(r=!0,t):"?"===o?e?e+o+(u?d.repeat(u.length):""):0===s?S+(u?d.repeat(u.length):""):d.repeat(n.length):"."===o?p.repeat(n.length):"*"===o?e?e+o+(u?m:""):m:e?t:`\\${t}`));return!0===r&&(o=!0===n.unescape?o.replace(/\\/g,""):o.replace(/\\+/g,(t=>t.length%2==0?"\\\\":t?"\\":""))),o===t&&!0===n.contains?(H.output=t,H):(H.output=q.wrapOutput(o,H,e),H)}for(;!k();){if(T=I(),"\0"===T)continue;if("\\"===T){const t=N();if("/"===t&&!0!==n.bash)continue;if("."===t||";"===t)continue;if(!t){T+="\\",U({type:"text",value:T});continue}const e=/^\\+/.exec(M());let r=0;if(e&&e[0].length>2&&(r=e[0].length,H.index+=r,r%2!=0&&(T+="\\")),!0===n.unescape?T=I():T+=I(),0===H.brackets){U({type:"text",value:T});continue}}if(H.brackets>0&&("]"!==T||"["===L.value||"[^"===L.value)){if(!1!==n.posix&&":"===T){const t=L.value.slice(1);if(t.includes("[")&&(L.posix=!0,t.includes(":"))){const t=L.value.lastIndexOf("["),e=L.value.slice(0,t),n=L.value.slice(t+2),r=Y[n];if(r){L.value=e+r,H.backtrack=!0,I(),u.output||1!==s.indexOf(L)||(u.output=g);continue}}}("["===T&&":"!==N()||"-"===T&&"]"===N())&&(T=`\\${T}`),"]"!==T||"["!==L.value&&"[^"!==L.value||(T=`\\${T}`),!0===n.posix&&"!"===T&&"["===L.value&&(T="^"),L.value+=T,D({value:T});continue}if(1===H.quotes&&'"'!==T){T=q.escapeRegex(T),L.value+=T,D({value:T});continue}if('"'===T){H.quotes=1===H.quotes?0:1,!0===n.keepQuotes&&U({type:"text",value:T});continue}if("("===T){G("parens"),U({type:"paren",value:T});continue}if(")"===T){if(0===H.parens&&!0===n.strictBrackets)throw new SyntaxError(nt("opening","("));const t=$[$.length-1];if(t&&H.parens===t.parens+1){F($.pop());continue}U({type:"paren",value:T,output:H.parens?")":"\\)"}),j("parens");continue}if("["===T){if(!0!==n.nobracket&&M().includes("]"))G("brackets");else{if(!0!==n.nobracket&&!0===n.strictBrackets)throw new SyntaxError(nt("closing","]"));T=`\\${T}`}U({type:"bracket",value:T});continue}if("]"===T){if(!0===n.nobracket||L&&"bracket"===L.type&&1===L.value.length){U({type:"text",value:T,output:`\\${T}`});continue}if(0===H.brackets){if(!0===n.strictBrackets)throw new SyntaxError(nt("opening","["));U({type:"text",value:T,output:`\\${T}`});continue}j("brackets");const t=L.value.slice(1);if(!0===L.posix||"^"!==t[0]||t.includes("/")||(T=`/${T}`),L.value+=T,D({value:T}),!1===n.literalBrackets||q.hasRegexChars(t))continue;const e=q.escapeRegex(L.value);if(H.output=H.output.slice(0,-L.value.length),!0===n.literalBrackets){H.output+=e,L.value=e;continue}L.value=`(${a}${e}|${L.value})`,H.output+=L.value;continue}if("{"===T&&!0!==n.nobrace){G("braces");const t={type:"brace",value:T,output:"(",outputIndex:H.output.length,tokensIndex:H.tokens.length};O.push(t),U(t);continue}if("}"===T){const t=O[O.length-1];if(!0===n.nobrace||!t){U({type:"text",value:T,output:T});continue}let e=")";if(!0===t.dots){const t=s.slice(),r=[];for(let e=t.length-1;e>=0&&(s.pop(),"brace"!==t[e].type);e--)"dots"!==t[e].type&&r.unshift(t[e].value);e=et(r,n),H.backtrack=!0}if(!0!==t.comma&&!0!==t.dots){const n=H.output.slice(0,t.outputIndex),r=H.tokens.slice(t.tokensIndex);t.value=t.output="\\{",T=e="\\}",H.output=n;for(const t of r)H.output+=t.output||t.value}U({type:"brace",value:T,output:e}),j("braces"),O.pop();continue}if("|"===T){$.length>0&&$[$.length-1].conditions++,U({type:"text",value:T});continue}if(","===T){let t=T;const e=O[O.length-1];e&&"braces"===w[w.length-1]&&(e.comma=!0,t="|"),U({type:"comma",value:T,output:t});continue}if("/"===T){if("dot"===L.type&&H.index===H.start+1){H.start=H.index+1,H.consumed="",H.output="",s.pop(),L=u;continue}U({type:"slash",value:T,output:h});continue}if("."===T){if(H.braces>0&&"dot"===L.type){"."===L.value&&(L.output=p);const t=O[O.length-1];L.type="dots",L.output+=T,L.value+=T,t.dots=!0;continue}if(H.braces+H.parens===0&&"bos"!==L.type&&"slash"!==L.type){U({type:"text",value:T,output:p});continue}U({type:"dot",value:T,output:p});continue}if("?"===T){if(!(L&&"("===L.value)&&!0!==n.noextglob&&"("===N()&&"?"!==N(2)){K("qmark",T);continue}if(L&&"paren"===L.type){const t=N();let e=T;if("<"===t&&!q.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");("("===L.value&&!/[!=<:]/.test(t)||"<"===t&&!/<([!=]|\w+>)/.test(M()))&&(e=`\\${T}`),U({type:"text",value:T,output:e});continue}if(!0!==n.dot&&("slash"===L.type||"bos"===L.type)){U({type:"qmark",value:T,output:b});continue}U({type:"qmark",value:T,output:d});continue}if("!"===T){if(!0!==n.noextglob&&"("===N()&&("?"!==N(2)||!/[!=<:]/.test(N(3)))){K("negate",T);continue}if(!0!==n.nonegate&&0===H.index){P();continue}}if("+"===T){if(!0!==n.noextglob&&"("===N()&&"?"!==N(2)){K("plus",T);continue}if(L&&"("===L.value||!1===n.regex){U({type:"plus",value:T,output:f});continue}if(L&&("bracket"===L.type||"paren"===L.type||"brace"===L.type)||H.parens>0){U({type:"plus",value:T});continue}U({type:"plus",value:f});continue}if("@"===T){if(!0!==n.noextglob&&"("===N()&&"?"!==N(2)){U({type:"at",extglob:!0,value:T,output:""});continue}U({type:"text",value:T});continue}if("*"!==T){"$"!==T&&"^"!==T||(T=`\\${T}`);const t=V.exec(M());t&&(T+=t[0],H.index+=t[0].length),U({type:"text",value:T});continue}if(L&&("globstar"===L.type||!0===L.star)){L.type="star",L.star=!0,L.value+=T,L.output=m,H.backtrack=!0,H.globstar=!0,B(T);continue}let e=M();if(!0!==n.noextglob&&/^\([^?]/.test(e)){K("star",T);continue}if("star"===L.type){if(!0===n.noglobstar){B(T);continue}const r=L.prev,o=r.prev,u="slash"===r.type||"bos"===r.type,s=o&&("star"===o.type||"globstar"===o.type);if(!0===n.bash&&(!u||e[0]&&"/"!==e[0])){U({type:"star",value:T,output:""});continue}const a=H.braces>0&&("comma"===r.type||"brace"===r.type),i=$.length&&("pipe"===r.type||"paren"===r.type);if(!u&&"paren"!==r.type&&!a&&!i){U({type:"star",value:T,output:""});continue}for(;"/**"===e.slice(0,3);){const n=t[H.index+4];if(n&&"/"!==n)break;e=e.slice(3),B("/**",3)}if("bos"===r.type&&k()){L.type="globstar",L.value+=T,L.output=C(n),H.output=L.output,H.globstar=!0,B(T);continue}if("slash"===r.type&&"bos"!==r.prev.type&&!s&&k()){H.output=H.output.slice(0,-(r.output+L.output).length),r.output=`(?:${r.output}`,L.type="globstar",L.output=C(n)+(n.strictSlashes?")":"|$)"),L.value+=T,H.globstar=!0,H.output+=r.output+L.output,B(T);continue}if("slash"===r.type&&"bos"!==r.prev.type&&"/"===e[0]){const t=void 0!==e[1]?"|$":"";H.output=H.output.slice(0,-(r.output+L.output).length),r.output=`(?:${r.output}`,L.type="globstar",L.output=`${C(n)}${h}|${h}${t})`,L.value+=T,H.output+=r.output+L.output,H.globstar=!0,B(T+I()),U({type:"slash",value:"/",output:""});continue}if("bos"===r.type&&"/"===e[0]){L.type="globstar",L.value+=T,L.output=`(?:^|${h}|${C(n)}${h})`,H.output=L.output,H.globstar=!0,B(T+I()),U({type:"slash",value:"/",output:""});continue}H.output=H.output.slice(0,-L.output.length),L.type="globstar",L.output=C(n),L.value+=T,H.output+=L.output,H.globstar=!0,B(T);continue}const r={type:"star",value:T,output:m};!0!==n.bash?!L||"bracket"!==L.type&&"paren"!==L.type||!0!==n.regex?(H.index!==H.start&&"slash"!==L.type&&"dot"!==L.type||("dot"===L.type?(H.output+=v,L.output+=v):!0===n.dot?(H.output+=R,L.output+=R):(H.output+=x,L.output+=x),"*"!==N()&&(H.output+=g,L.output+=g)),U(r)):(r.output=T,U(r)):(r.output=".*?","bos"!==L.type&&"slash"!==L.type||(r.output=x+r.output),U(r))}for(;H.brackets>0;){if(!0===n.strictBrackets)throw new SyntaxError(nt("closing","]"));H.output=q.escapeLast(H.output,"["),j("brackets")}for(;H.parens>0;){if(!0===n.strictBrackets)throw new SyntaxError(nt("closing",")"));H.output=q.escapeLast(H.output,"("),j("parens")}for(;H.braces>0;){if(!0===n.strictBrackets)throw new SyntaxError(nt("closing","}"));H.output=q.escapeLast(H.output,"{"),j("braces")}if(!0===n.strictSlashes||"star"!==L.type&&"bracket"!==L.type||U({type:"maybe_slash",value:"",output:`${h}?`}),!0===H.backtrack){H.output="";for(const t of H.tokens)H.output+=null!=t.output?t.output:t.value,t.suffix&&(H.output+=t.suffix)}return H};rt.fastpaths=(t,e)=>{const n={...e},r="number"==typeof n.maxLength?Math.min(Z,n.maxLength):Z,o=t.length;if(o>r)throw new SyntaxError(`Input length: ${o}, exceeds maximum allowed length: ${r}`);t=tt[t]||t;const u=q.isWindows(e),{DOT_LITERAL:s,SLASH_LITERAL:a,ONE_CHAR:i,DOTS_SLASH:l,NO_DOT:c,NO_DOTS:p,NO_DOTS_SLASH:f,STAR:h,START_ANCHOR:g}=z.globChars(u),A=n.dot?p:c,_=n.dot?f:c,v=n.capture?"":"?:";let R=!0===n.bash?".*?":h;n.capture&&(R=`(${R})`);const d=t=>!0===t.noglobstar?R:`(${v}(?:(?!${g}${t.dot?l:s}).)*?)`,b=t=>{switch(t){case"*":return`${A}${i}${R}`;case".*":return`${s}${i}${R}`;case"*.*":return`${A}${R}${s}${i}${R}`;case"*/*":return`${A}${R}${a}${i}${_}${R}`;case"**":return A+d(n);case"**/*":return`(?:${A}${d(n)}${a})?${_}${i}${R}`;case"**/*.*":return`(?:${A}${d(n)}${a})?${_}${R}${s}${i}${R}`;case"**/.*":return`(?:${A}${d(n)}${a})?${s}${i}${R}`;default:{const e=/^(.*?)\.(\w+)$/.exec(t);if(!e)return;const n=b(e[1]);if(!n)return;return n+s+e[2]}}},y=q.removePrefix(t,{negated:!1,prefix:""});let E=b(y);return E&&!0!==n.strictSlashes&&(E+=`${a}?`),E};const ot=_,ut=W,st=rt,at=v,it=$,lt=(t,e,n=!1)=>{if(Array.isArray(t)){const r=t.map((t=>lt(t,e,n)));return t=>{for(const e of r){const n=e(t);if(n)return n}return!1}}const r=(o=t)&&"object"==typeof o&&!Array.isArray(o)&&t.tokens&&t.input;var o;if(""===t||"string"!=typeof t&&!r)throw new TypeError("Expected pattern to be a non-empty string");const u=e||{},s=at.isWindows(e),a=r?lt.compileRe(t,e):lt.makeRe(t,e,!1,!0),i=a.state;delete a.state;let l=()=>!1;if(u.ignore){const t={...e,ignore:null,onMatch:null,onResult:null};l=lt(u.ignore,t,n)}const c=(n,r=!1)=>{const{isMatch:o,match:c,output:p}=lt.test(n,a,e,{glob:t,posix:s}),f={glob:t,state:i,regex:a,posix:s,input:n,output:p,match:c,isMatch:o};return"function"==typeof u.onResult&&u.onResult(f),!1===o?(f.isMatch=!1,!!r&&f):l(n)?("function"==typeof u.onIgnore&&u.onIgnore(f),f.isMatch=!1,!!r&&f):("function"==typeof u.onMatch&&u.onMatch(f),!r||f)};return n&&(c.state=i),c};lt.test=(t,e,n,{glob:r,posix:o}={})=>{if("string"!=typeof t)throw new TypeError("Expected input to be a string");if(""===t)return{isMatch:!1,output:""};const u=n||{},s=u.format||(o?at.toPosixSlashes:null);let a=t===r,i=a&&s?s(t):t;return!1===a&&(i=s?s(t):t,a=i===r),!1!==a&&!0!==u.capture||(a=!0===u.matchBase||!0===u.basename?lt.matchBase(t,e,n,o):e.exec(i)),{isMatch:Boolean(a),match:a,output:i}},lt.matchBase=(t,e,n,r=at.isWindows(n))=>(e instanceof RegExp?e:lt.makeRe(e,n)).test(ot.basename(t)),lt.isMatch=(t,e,n)=>lt(e,n)(t),lt.parse=(t,e)=>Array.isArray(t)?t.map((t=>lt.parse(t,e))):st(t,{...e,fastpaths:!1}),lt.scan=(t,e)=>ut(t,e),lt.compileRe=(t,e,n=!1,r=!1)=>{if(!0===n)return t.output;const o=e||{},u=o.contains?"":"^",s=o.contains?"":"$";let a=`${u}(?:${t.output})${s}`;t&&!0===t.negated&&(a=`^(?!${a}).*$`);const i=lt.toRegex(a,e);return!0===r&&(i.state=t),i},lt.makeRe=(t,e={},n=!1,r=!1)=>{if(!t||"string"!=typeof t)throw new TypeError("Expected a non-empty string");let o={negated:!1,fastpaths:!0};return!1===e.fastpaths||"."!==t[0]&&"*"!==t[0]||(o.output=st.fastpaths(t,e)),o.output||(o=st(t,e)),lt.compileRe(o,e,n,r)},lt.toRegex=(t,e)=>{try{const n=e||{};return new RegExp(t,n.flags||(n.nocase?"i":""))}catch(t){if(e&&!0===e.debug)throw t;return/$^/}},lt.constants=it;var ct=lt;class pt{constructor(t){let e;e="object"==typeof t&&t instanceof pt?t.source:String(t),this.source=e,this._re=ct.makeRe(e)}test(t){return this._re.test(t)}}var ft={},ht=Uint8Array,gt=Uint16Array,At=Uint32Array,_t=new ht([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),vt=new ht([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Rt=new ht([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),dt=function(t,e){for(var n=new gt(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];var o=new At(n[30]);for(r=1;r<30;++r)for(var u=n[r];u<n[r+1];++u)o[u]=u-n[r]<<5|r;return[n,o]},bt=dt(_t,2),yt=bt[0],Et=bt[1];yt[28]=258,Et[258]=28;for(var Ct=dt(vt,0)[0],xt=new gt(32768),St=0;St<32768;++St){var mt=(43690&St)>>>1|(21845&St)<<1;mt=(61680&(mt=(52428&mt)>>>2|(13107&mt)<<2))>>>4|(3855&mt)<<4,xt[St]=((65280&mt)>>>8|(255&mt)<<8)>>>1}var Ht=function(t,e,n){for(var r=t.length,o=0,u=new gt(e);o<r;++o)++u[t[o]-1];var s,a=new gt(e);for(o=0;o<e;++o)a[o]=a[o-1]+u[o-1]<<1;if(n){s=new gt(1<<e);var i=15-e;for(o=0;o<r;++o)if(t[o])for(var l=o<<4|t[o],c=e-t[o],p=a[t[o]-1]++<<c,f=p|(1<<c)-1;p<=f;++p)s[xt[p]>>>i]=l}else for(s=new gt(r),o=0;o<r;++o)t[o]&&(s[o]=xt[a[t[o]-1]++]>>>15-t[o]);return s},$t=new ht(288);for(St=0;St<144;++St)$t[St]=8;for(St=144;St<256;++St)$t[St]=9;for(St=256;St<280;++St)$t[St]=7;for(St=280;St<288;++St)$t[St]=8;var Ot=new ht(32);for(St=0;St<32;++St)Ot[St]=5;var wt=Ht($t,9,1),Tt=Ht(Ot,5,1),Lt=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},kt=function(t,e,n){var r=e/8|0;return(t[r]|t[r+1]<<8)>>(7&e)&n},Nt=function(t,e){var n=e/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(7&e)},It=function(t){return(t/8|0)+(7&t&&1)},Mt=function(t,e,n){(null==e||e<0)&&(e=0),(null==n||n>t.length)&&(n=t.length);var r=new(t instanceof gt?gt:t instanceof At?At:ht)(n-e);return r.set(t.subarray(e,n)),r},Bt=function(t,e,n){var r=t.length;if(!r||n&&!n.l&&r<5)return e||new ht(0);var o=!e||n,u=!n||n.i;n||(n={}),e||(e=new ht(3*r));var s=function(t){var n=e.length;if(t>n){var r=new ht(Math.max(2*n,t));r.set(e),e=r}},a=n.f||0,i=n.p||0,l=n.b||0,c=n.l,p=n.d,f=n.m,h=n.n,g=8*r;do{if(!c){n.f=a=kt(t,i,1);var A=kt(t,i+1,3);if(i+=3,!A){var _=t[(H=It(i)+4)-4]|t[H-3]<<8,v=H+_;if(v>r){if(u)throw"unexpected EOF";break}o&&s(l+_),e.set(t.subarray(H,v),l),n.b=l+=_,n.p=i=8*v;continue}if(1==A)c=wt,p=Tt,f=9,h=5;else{if(2!=A)throw"invalid block type";var R=kt(t,i,31)+257,d=kt(t,i+10,15)+4,b=R+kt(t,i+5,31)+1;i+=14;for(var y=new ht(b),E=new ht(19),C=0;C<d;++C)E[Rt[C]]=kt(t,i+3*C,7);i+=3*d;var x=Lt(E),S=(1<<x)-1,m=Ht(E,x,1);for(C=0;C<b;){var H,$=m[kt(t,i,S)];if(i+=15&$,(H=$>>>4)<16)y[C++]=H;else{var O=0,w=0;for(16==H?(w=3+kt(t,i,3),i+=2,O=y[C-1]):17==H?(w=3+kt(t,i,7),i+=3):18==H&&(w=11+kt(t,i,127),i+=7);w--;)y[C++]=O}}var T=y.subarray(0,R),L=y.subarray(R);f=Lt(T),h=Lt(L),c=Ht(T,f,1),p=Ht(L,h,1)}if(i>g){if(u)throw"unexpected EOF";break}}o&&s(l+131072);for(var k=(1<<f)-1,N=(1<<h)-1,I=i;;I=i){var M=(O=c[Nt(t,i)&k])>>>4;if((i+=15&O)>g){if(u)throw"unexpected EOF";break}if(!O)throw"invalid length/literal";if(M<256)e[l++]=M;else{if(256==M){I=i,c=null;break}var B=M-254;if(M>264){var D=_t[C=M-257];B=kt(t,i,(1<<D)-1)+yt[C],i+=D}var P=p[Nt(t,i)&N],G=P>>>4;if(!P)throw"invalid distance";i+=15&P;L=Ct[G];if(G>3){D=vt[G];L+=Nt(t,i)&(1<<D)-1,i+=D}if(i>g){if(u)throw"unexpected EOF";break}o&&s(l+131072);for(var j=l+B;l<j;l+=4)e[l]=e[l-L],e[l+1]=e[l+1-L],e[l+2]=e[l+2-L],e[l+3]=e[l+3-L];l=j}}n.l=c,n.p=I,n.b=l,c&&(a=1,n.m=f,n.d=p,n.n=h)}while(!a);return l==e.length?e:Mt(e,0,l)},Dt=new ht(0),Pt=function(t,e,n){for(var r=t(),o=t.toString(),u=o.slice(o.indexOf("[")+1,o.lastIndexOf("]")).replace(/ /g,"").split(","),s=0;s<r.length;++s){var a=r[s],i=u[s];if("function"==typeof a){e+=";"+i+"=";var l=a.toString();if(a.prototype)if(-1!=l.indexOf("[native code]")){var c=l.indexOf(" ",8)+1;e+=l.slice(c,l.indexOf("(",c))}else for(var p in e+=l,a.prototype)e+=";"+i+".prototype."+p+"="+a.prototype[p].toString();else e+=l}else n[i]=a}return[e,n]},Gt=[],jt=function(t,e,n,r){var o;if(!Gt[n]){for(var u="",s={},a=t.length-1,i=0;i<a;++i)u=(o=Pt(t[i],u,s))[0],s=o[1];Gt[n]=Pt(t[a],u,s)}var l=function(t,e){var n={};for(var r in t)n[r]=t[r];for(var r in e)n[r]=e[r];return n}({},Gt[n][1]);return function(t,e,n,r,o){var u=new Worker(ft[e]||(ft[e]=URL.createObjectURL(new Blob([t],{type:"text/javascript"}))));return u.onerror=function(t){return o(t.error,null)},u.onmessage=function(t){return o(null,t.data)},u.postMessage(n,r),u}(Gt[n][0]+";onmessage=function(e){for(var k in e.data)self[k]=e.data[k];onmessage="+e.toString()+"}",n,l,function(t){var e=[];for(var n in t)(t[n]instanceof ht||t[n]instanceof gt||t[n]instanceof At)&&e.push((t[n]=new t[n].constructor(t[n])).buffer);return e}(l),r)},Ut=function(){return[ht,gt,At,_t,vt,Rt,yt,Ct,wt,Tt,xt,Ht,Lt,kt,Nt,It,Mt,Bt,qt,Kt,Ft]},Kt=function(t){return postMessage(t,[t.buffer])},Ft=function(t){return t&&t.size&&new ht(t.size)},Xt=function(t,e){return t[e]|t[e+1]<<8},Qt=function(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24)>>>0},Wt=function(t,e){return Qt(t,e)+4294967296*Qt(t,e+4)};function zt(t,e,n){if(n||(n=e,e={}),"function"!=typeof n)throw"no callback";return function(t,e,n,r,o,u){var s=jt(n,r,o,(function(t,e){s.terminate(),u(t,e)}));return s.postMessage([t,e],e.consume?[t.buffer]:[]),function(){s.terminate()}}(t,e,[Ut],(function(t){return Kt(qt(t.data[0],Ft(t.data[1])))}),1,n)}function qt(t,e){return Bt(t,e)}var Zt="undefined"!=typeof TextDecoder&&new TextDecoder;try{Zt.decode(Dt,{stream:!0}),1}catch(t){}function Yt(t,e){if(e){for(var n="",r=0;r<t.length;r+=16384)n+=String.fromCharCode.apply(null,t.subarray(r,r+16384));return n}if(Zt)return Zt.decode(t);var o=function(t){for(var e="",n=0;;){var r=t[n++],o=(r>127)+(r>223)+(r>239);if(n+o>t.length)return[e,Mt(t,n-1)];o?3==o?(r=((15&r)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536,e+=String.fromCharCode(55296|r>>10,56320|1023&r)):e+=1&o?String.fromCharCode((31&r)<<6|63&t[n++]):String.fromCharCode((15&r)<<12|(63&t[n++])<<6|63&t[n++]):e+=String.fromCharCode(r)}}(t),u=o[0];if(o[1].length)throw"invalid utf-8 data";return u}var Vt=function(t,e){for(;1!=Xt(t,e);e+=4+Xt(t,e+2));return[Wt(t,e+12),Wt(t,e+4),Wt(t,e+20)]};function Jt(t,e){if("function"!=typeof e)throw"no callback";for(var n=[],r=function(){for(var t=0;t<n.length;++t)n[t]()},o={},u=t.length-22;101010256!=Qt(t,u);--u)if(!u||t.length-u>65558)return void e("invalid zip file",null);var s=Xt(t,u+8);s||e(null,{});var a=s,i=Qt(t,u+16),l=4294967295==i;if(l){if(u=Qt(t,u-12),101075792!=Qt(t,u))return void e("invalid zip file",null);a=s=Qt(t,u+32),i=Qt(t,u+48)}for(var c=function(u){var a=function(t,e,n){var r=Xt(t,e+28),o=Yt(t.subarray(e+46,e+46+r),!(2048&Xt(t,e+8))),u=e+46+r,s=Qt(t,e+20),a=n&&4294967295==s?Vt(t,u):[s,Qt(t,e+24),Qt(t,e+42)],i=a[0],l=a[1],c=a[2];return[Xt(t,e+10),i,l,o,u+Xt(t,e+30)+Xt(t,e+32),c]}(t,i,l),c=a[0],p=a[1],f=a[2],h=a[3],g=a[4],A=a[5],_=function(t,e){return e+30+Xt(t,e+26)+Xt(t,e+28)}(t,A);i=g;var v=function(t,n){t?(r(),e(t,null)):(o[h]=n,--s||e(null,o))};if(c)if(8==c){var R=t.subarray(_,_+p);if(p<32e4)try{v(null,qt(R,new ht(f)))}catch(t){v(t,null)}else n.push(zt(R,{size:f},v))}else v("unknown compression type "+c,null);else v(null,Mt(t,_,_+p))},p=0;p<a;++p)c();return r}const te=/^([_\w\d]+)\:\/\//,ee={cache:{},loadings:{},defaults:[]};async function ne(t,e,n,r=5e3){const{cache:o,loadings:u}=ee;if(t in o)return o[t];let s;if(t in u){if(s=u[t],s.active)return u[t].promise}else s=new le(r),u[t]=s;let a=[s.promise];return te.test(e)?a.push(oe(e,r).then((t=>n(t))).then((e=>re(t,e)))):a.push(fetch(e).then((t=>t.arrayBuffer())).then((t=>n(t))).then((e=>re(t,e)))),await Promise.race(a)}function re(t,e){const{cache:n,loadings:r}=ee;return n[t]=e,t in r&&(r[t].resolve(e),delete r[t]),e}async function oe(t,e=5e3){const{cache:n,loadings:r}=ee;if(t in n)return n[t];if(t in r)return r[t].promise;{let n=new le(e);return r[t]=n,n.promise}}function ue(t){const{defaults:e}=ee;for(let n of e)if(n.glob.test(t))return se(n.uri);return null}function se(t){return ee.cache[t]}function ae(t){return se(t)||ue(t)}class ie{constructor(t,e){this.glob=t,this.uri=e}}class le{constructor(t){this.active=!1,this._resolve=null,this._reject=null,this._reason=null,this._value=null,this._timeoutHandle=Number.isFinite(t)&&t>0?setTimeout((()=>{this.reject(`Asset loading exceeded timeout of ${t} ms.`)}),t):null,this._promise=new Promise(((t,e)=>{this._value?t(this._value):this._resolve=t,this._reason?e(this._reason):this._reject=e}))}get promise(){return this._promise}resolve(t){this._timeoutHandle&&(clearTimeout(this._timeoutHandle),this._timeoutHandle=null),this._resolve?this._resolve(t):this._value=t}reject(t){this._timeoutHandle&&(clearTimeout(this._timeoutHandle),this._timeoutHandle=null),this._reject?this._reject(t):this._reason=t}}var ce=Object.freeze({__proto__:null,load:ne,loadAssetPack:async function(t,e){let n=await fetch(t),r=await n.arrayBuffer();await new Promise(((t,n)=>{Jt(new Uint8Array(r),((r,o)=>{if(r)n(r);else{for(let[t,n]of Object.entries(o)){let r=t.indexOf("/");r>=0&&(t=t.substring(r+1));let o="raw://"+t;re(o,n),e&&e(n,o,t)}t()}}))}))},loadAssetRefs:async function(t,e=5e3){let n=[];for(let r of t)n.push(r.load(e));await Promise.allSettled(n)},cache:re,cacheDefault:function(t,e){const{defaults:n}=ee;"string"==typeof t&&(t=new pt(t));const r=`__default://[${n.length}]`;re(r,e),n.push(new ie(t,r))},unload:function(t){const{cache:e,loadings:n}=ee;t in n&&(n[t].reject(new Error("Stop loading to delete asset.")),delete n[t]),t in e&&delete e[t]},clear:function(t,e={preserveDefault:!1}){const{preserveDefault:n}=e;"string"==typeof t&&(t=new pt(t));const{cache:r,loadings:o,defaults:u}=ee;for(let[e,n]of Object.entries(o))t&&!t.test(e)||(n.reject(new Error("Stop loading to clear all assets.")),delete o[e]);for(let e of Object.keys(r))t&&!t.test(e)||delete r[e];n||(u.length=0)},getLoaded:oe,getDefault:ue,getCurrent:se,get:ae,has:function(t){return Boolean(ee.cache[t])},keys:function(){return Object.keys(ee.cache)},isAssetCached:function(t){return t in ee.cache},isAssetLoading:function(t){return t in ee.loadings},on:function(t,e){}});t.AssetManager=ce,t.AssetRef=class{constructor(t,e,n){this.uri=t,this.source=e,this.loader=n}get value(){return ae(this.uri)}get current(){return se(this.uri)}get loaded(){return oe(this.uri)}get default(){return ue(this.uri)}async load(t){return await ne(this.uri,this.source,this.loader,t),this}cache(t){return re(this.uri,t),this}},t.GlobExp=pt,Object.defineProperty(t,"__esModule",{value:!0})}));
