{"version":3,"file":"index.js","sources":["../../src/generators/RandomGenerator.js","../../src/generators/MathRandom.js","../../src/generators/Mulberry32.js","../../src/generators/SmallFastCounter32.js","../../src/Random.js"],"sourcesContent":["/** @abstract */\nexport class RandomGenerator {\n  \n  /**\n   * Returns a pseudorandom number between 0 and 1.\n   * \n   * @abstract\n   * @returns {number}\n   */\n  random() {\n    throw new Error('Not yet implemented.');\n  }\n\n  /**\n   * @returns {number}\n   */\n  nextFloat() {\n    return this.random();\n  }\n\n  /**\n   * @returns {boolean}\n   */\n  nextBoolean() {\n    return this.random() >= 0.5;\n  }\n\n  /**\n   * @param {number} max \n   * @returns {number}\n   */\n  nextInt(max = 1) {\n    return Math.trunc(this.random() * max);\n  }\n\n  /**\n   * @readonly\n   * @param {number} from \n   * @param {number} to\n   */\n  range(from, to) {\n    return from + this.nextFloat() * (to - from);\n  }\n\n  /**\n   * @readonly\n   * @param {number} from \n   * @param {number} to\n   */\n  rangeInt(from, to) {\n    return Math.trunc(this.range(from, to));\n  }\n\n  /**\n   * @readonly\n   */\n  sign() {\n    return this.nextBoolean() ? 1 : -1;\n  }\n\n  /**\n   * @readonly\n   * @template T\n   * @param  {...T} items \n   * @returns {T}\n   */\n  choose(...items) {\n    let i = Math.trunc(this.range(0, items.length));\n    return items[i];\n  }\n}\n","import { RandomGenerator } from './RandomGenerator';\n\nexport class MathRandom extends RandomGenerator {\n  /** @override */\n  random() {\n    return Math.random();\n  }\n}\n","import { RandomGenerator } from './RandomGenerator';\n\n/**\n * A simple and fast 32-bit PRNG.\n *\n * @see {@link https://github.com/bryc/code/blob/master/jshash/PRNGs.md}\n */\nexport class Mulberry32 extends RandomGenerator {\n  /**\n   * @param {number} seed An unsigned 32-bit integer.\n   */\n  constructor(seed) {\n    super();\n\n    this.seed = seed;\n\n    /** @private */\n    this.a = seed;\n  }\n\n  /**\n   * @param {number} seed \n   */\n  setSeed(seed) {\n    this.seed = seed;\n    this.a = seed;\n    return this;\n  }\n\n  /** @override */\n  random() {\n    var t = (this.a += 0x6d2b79f5);\n    t = Math.imul(t ^ (t >>> 15), t | 1);\n    t ^= t + Math.imul(t ^ (t >>> 7), t | 61);\n    return ((t ^ (t >>> 14)) >>> 0) / 4294967296;\n  }\n}\n","import { RandomGenerator } from './RandomGenerator';\n\n/**\n * A very fast 32-bit PRNG.\n *\n * @see https://github.com/bryc/code/blob/master/jshash/PRNGs.md\n */\nexport class SmallFastCounter32 extends RandomGenerator {\n  /**\n   * @param {number} a An unsigned 32-bit integer.\n   * @param {number} b An unsigned 32-bit integer.\n   * @param {number} c An unsigned 32-bit integer.\n   * @param {number} d An unsigned 32-bit integer.\n   */\n  constructor(a, b, c, d) {\n    super();\n\n    /** @private */\n    this.a = a;\n    /** @private */\n    this.b = b;\n    /** @private */\n    this.c = c;\n    /** @private */\n    this.d = d;\n  }\n\n  /** @override */\n  random() {\n    let { a, b, c, d } = this;\n    a |= 0;\n    b |= 0;\n    c |= 0;\n    d |= 0;\n    let t = (((a + b) | 0) + d) | 0;\n    d = (d + 1) | 0;\n    a = b ^ (b >>> 9);\n    b = (c + (c << 3)) | 0;\n    c = (c << 21) | (c >>> 11);\n    c = (c + t) | 0;\n    this.a = a;\n    this.b = b;\n    this.c = c;\n    this.d = d;\n    return (t >>> 0) / 4294967296;\n  }\n}\n","import { MathRandom } from './generators';\n\nexport const Random = new MathRandom();\n"],"names":[],"mappings":"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"}