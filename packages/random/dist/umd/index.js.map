{"version":3,"file":"index.js","sources":["../../src/generators/RandomGenerator.js","../../src/generators/MathRandom.js","../../src/Random.js","../../src/generators/Mulberry32.js","../../src/generators/SmallFastCounter32.js"],"sourcesContent":["/** @abstract */\nexport class RandomGenerator {\n  \n  /**\n   * Returns a pseudorandom number between 0 and 1.\n   * \n   * @abstract\n   * @returns {number}\n   */\n  random() {\n    throw new Error('Not yet implemented.');\n  }\n\n  /**\n   * @returns {number}\n   */\n  nextFloat() {\n    return this.random();\n  }\n\n  /**\n   * @returns {boolean}\n   */\n  nextBoolean() {\n    return this.random() >= 0.5;\n  }\n\n  /**\n   * @param {number} max \n   * @returns {number}\n   */\n  nextInt(max = 1) {\n    return Math.trunc(this.random() * max);\n  }\n\n  /**\n   * @readonly\n   * @param {number} from \n   * @param {number} to\n   */\n  range(from, to) {\n    return from + this.nextFloat() * (to - from);\n  }\n\n  /**\n   * @readonly\n   * @param {number} from \n   * @param {number} to\n   */\n  rangeInt(from, to) {\n    return Math.trunc(this.range(from, to));\n  }\n\n  /**\n   * @readonly\n   */\n  sign() {\n    return this.nextBoolean() ? 1 : -1;\n  }\n\n  /**\n   * @readonly\n   * @template T\n   * @param  {...T} items \n   * @returns {T}\n   */\n  choose(...items) {\n    let i = Math.trunc(this.range(0, items.length));\n    return items[i];\n  }\n}\n","import { RandomGenerator } from './RandomGenerator';\n\nexport class MathRandom extends RandomGenerator {\n  /** @override */\n  random() {\n    return Math.random();\n  }\n}\n","import { MathRandom } from './generators';\n\nexport const Random = new MathRandom();\n","import { RandomGenerator } from './RandomGenerator';\n\n/**\n * A simple and fast 32-bit PRNG.\n *\n * @see {@link https://github.com/bryc/code/blob/master/jshash/PRNGs.md}\n */\nexport class Mulberry32 extends RandomGenerator {\n  /**\n   * @param {number} seed An unsigned 32-bit integer.\n   */\n  constructor(seed) {\n    super();\n\n    this.seed = seed;\n\n    /** @private */\n    this.a = seed;\n  }\n\n  /**\n   * @param {number} seed \n   */\n  setSeed(seed) {\n    this.seed = seed;\n    this.a = seed;\n    return this;\n  }\n\n  /** @override */\n  random() {\n    var t = (this.a += 0x6d2b79f5);\n    t = Math.imul(t ^ (t >>> 15), t | 1);\n    t ^= t + Math.imul(t ^ (t >>> 7), t | 61);\n    return ((t ^ (t >>> 14)) >>> 0) / 4294967296;\n  }\n}\n","import { RandomGenerator } from './RandomGenerator';\n\n/**\n * A very fast 32-bit PRNG.\n *\n * @see https://github.com/bryc/code/blob/master/jshash/PRNGs.md\n */\nexport class SmallFastCounter32 extends RandomGenerator {\n  /**\n   * @param {number} a An unsigned 32-bit integer.\n   * @param {number} b An unsigned 32-bit integer.\n   * @param {number} c An unsigned 32-bit integer.\n   * @param {number} d An unsigned 32-bit integer.\n   */\n  constructor(a, b, c, d) {\n    super();\n\n    /** @private */\n    this.a = a;\n    /** @private */\n    this.b = b;\n    /** @private */\n    this.c = c;\n    /** @private */\n    this.d = d;\n  }\n\n  /** @override */\n  random() {\n    let { a, b, c, d } = this;\n    a |= 0;\n    b |= 0;\n    c |= 0;\n    d |= 0;\n    let t = (((a + b) | 0) + d) | 0;\n    d = (d + 1) | 0;\n    a = b ^ (b >>> 9);\n    b = (c + (c << 3)) | 0;\n    c = (c << 21) | (c >>> 11);\n    c = (c + t) | 0;\n    this.a = a;\n    this.b = b;\n    this.c = c;\n    this.d = d;\n    return (t >>> 0) / 4294967296;\n  }\n}\n"],"names":["RandomGenerator","random","Error","nextFloat","this","nextBoolean","nextInt","max","Math","trunc","range","from","to","rangeInt","sign","choose","items","length","MathRandom","Random","constructor","seed","super","a","setSeed","t","imul","b","c","d"],"mappings":"8OACO,MAAMA,EAQX,MAAAC,GACE,MAAM,IAAIC,MAAM,uBACpB,CAKE,SAAAC,GACE,OAAOC,KAAKH,QAChB,CAKE,WAAAI,GACE,OAAOD,KAAKH,UAAY,EAC5B,CAME,OAAAK,CAAQC,EAAM,GACZ,OAAOC,KAAKC,MAAML,KAAKH,SAAWM,EACtC,CAOE,KAAAG,CAAMC,EAAMC,GACV,OAAOD,EAAOP,KAAKD,aAAeS,EAAKD,EAC3C,CAOE,QAAAE,CAASF,EAAMC,GACb,OAAOJ,KAAKC,MAAML,KAAKM,MAAMC,EAAMC,GACvC,CAKE,IAAAE,GACE,OAAOV,KAAKC,cAAgB,GAAM,CACtC,CAQE,MAAAU,IAAUC,GAER,OAAOA,EADCR,KAAKC,MAAML,KAAKM,MAAM,EAAGM,EAAMC,SAE3C,ECnEO,MAAMC,UAAmBlB,EAE9B,MAAAC,GACE,OAAOO,KAAKP,QAChB,ECJa,MAAAkB,EAAS,IAAID,8BCKnB,cAAyBlB,EAI9B,WAAAoB,CAAYC,GACVC,QAEAlB,KAAKiB,KAAOA,EAGZjB,KAAKmB,EAAIF,CACb,CAKE,OAAAG,CAAQH,GAGN,OAFAjB,KAAKiB,KAAOA,EACZjB,KAAKmB,EAAIF,EACFjB,IACX,CAGE,MAAAH,GACE,IAAIwB,EAAKrB,KAAKmB,GAAK,WAGnB,OAFAE,EAAIjB,KAAKkB,KAAKD,EAAKA,IAAM,GAAS,EAAJA,MAC9BA,GAAKA,EAAIjB,KAAKkB,KAAKD,EAAKA,IAAM,EAAQ,GAAJA,IACpBA,IAAM,MAAS,GAAK,UACtC,uDC5BO,cAAiCzB,EAOtC,WAAAoB,CAAYG,EAAGI,EAAGC,EAAGC,GACnBP,QAGAlB,KAAKmB,EAAIA,EAETnB,KAAKuB,EAAIA,EAETvB,KAAKwB,EAAIA,EAETxB,KAAKyB,EAAIA,CACb,CAGE,MAAA5B,GACE,IAAIsB,EAAEA,EAACI,EAAEA,EAACC,EAAEA,EAACC,EAAEA,GAAMzB,KACrBmB,GAAK,EACLI,GAAK,EACLC,GAAK,EACLC,GAAK,EACL,IAAIJ,GAAOF,EAAII,EAAK,GAAKE,EAAK,EAU9B,OATAA,EAAKA,EAAI,EAAK,EACdN,EAAII,EAAKA,IAAM,EACfA,EAAKC,GAAKA,GAAK,GAAM,EACrBA,EAAKA,GAAK,GAAOA,IAAM,GACvBA,EAAKA,EAAIH,EAAK,EACdrB,KAAKmB,EAAIA,EACTnB,KAAKuB,EAAIA,EACTvB,KAAKwB,EAAIA,EACTxB,KAAKyB,EAAIA,GACDJ,IAAM,GAAK,UACvB"}