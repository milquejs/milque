{"version":3,"file":"index.js","sources":["../../src/FlexCanvas.style.js","../../src/FlexCanvas.template.js","../../src/FlexCanvasScaling.js","../../src/FlexCanvasSizing.js","../../src/FlexCanvas.js","../../src/index.js"],"sourcesContent":["export default /* css */ `\n:host {\n  display: inline-block;\n  flex: 1;\n  --width: 300px;\n  --height: 150px;\n}\n:host([scaling=\"noscale\"]) {\n  width: var(--width);\n  height: var(--height);\n}\n:host([sizing=\"viewport\"]) {\n    position: fixed;\n    top: 0;\n    left: 0;\n}\n.container {\n  position: relative;\n  display: flex;\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n}\n.innerContainer {\n  display: flex;\n  flex-direction: column;\n}\n.padding {\n  flex: 1;\n}`;\n","export default /* html */ `\n<div class=\"container\">\n  <div class=\"padding\"></div>\n  <div class=\"innerContainer\">\n    <div class=\"padding\"></div>\n    <slot><canvas>Oh no! Your browser does not support canvas.</canvas></slot>\n    <div class=\"padding\"></div>\n  </div>\n  <div class=\"padding\"></div>\n</div>`;\n","/**\n * @param {import('./FlexCanvas').ScalingMode} scalingMode\n * @param {HTMLElement} element\n * @param {HTMLCanvasElement} canvas\n * @param {number} canvasWidth\n * @param {number} canvasHeight\n */\nexport function resizeFor(\n  scalingMode,\n  element,\n  canvas,\n  canvasWidth,\n  canvasHeight\n) {\n  const clientRect = element.getBoundingClientRect();\n  const clientWidth = clientRect.width;\n  const clientHeight = clientRect.height;\n  switch (scalingMode) {\n    case 'fill':\n      resizeForFill(\n        canvas,\n        canvasWidth,\n        canvasHeight,\n        clientWidth,\n        clientHeight\n      );\n      return;\n    case 'fit':\n      resizeForFill(\n        canvas,\n        canvasWidth,\n        canvasHeight,\n        clientWidth,\n        clientHeight\n      );\n      return;\n    case 'scale':\n      resizeForScale(\n        canvas,\n        canvasWidth,\n        canvasHeight,\n        clientWidth,\n        clientHeight\n      );\n      return;\n    case 'stretch':\n      resizeForStretch(\n        canvas,\n        clientWidth,\n        clientHeight\n      );\n      return;\n    case 'noscale':\n    default:\n      resizeForNoScale(\n        element,\n        canvasWidth,\n        canvasHeight\n      );\n      return;\n  }\n}\n\n/**\n * @param {HTMLElement} element\n * @param {number} canvasWidth\n * @param {number} canvasHeight\n */\nexport function resizeForNoScale(\n  element,\n  canvasWidth,\n  canvasHeight,\n) {\n  element.style.setProperty('--width', `${canvasWidth}px`);\n  element.style.setProperty('--height', `${canvasHeight}px`);\n}\n\n/**\n * @param {HTMLCanvasElement} canvas\n * @param {number} canvasWidth\n * @param {number} canvasHeight\n * @param {number} clientWidth\n * @param {number} clientHeight\n */\nexport function resizeForScale(\n  canvas,\n  canvasWidth,\n  canvasHeight,\n  clientWidth,\n  clientHeight\n) {\n  const ratioX = clientWidth / canvasWidth;\n  const ratioY = clientHeight / canvasHeight;\n  if (ratioX < ratioY) {\n    canvas.style.setProperty('width', `${Math.floor(clientWidth)}px`);\n    canvas.style.setProperty(\n      'height',\n      `${Math.floor(canvasHeight * ratioX)}px`\n    );\n  } else {\n    canvas.style.setProperty('width', `${Math.floor(canvasWidth * ratioY)}px`);\n    canvas.style.setProperty('height', `${Math.floor(clientHeight)}px`);\n  }\n}\n\n/**\n * @param {HTMLCanvasElement} canvas\n * @param {number} clientWidth\n * @param {number} clientHeight\n */\nexport function resizeForStretch(\n  canvas,\n  clientWidth,\n  clientHeight\n) {\n  canvas.style.setProperty('width', `${Math.floor(clientWidth)}px`);\n  canvas.style.setProperty('height', `${Math.floor(clientHeight)}px`);\n}\n\n/**\n * @param {HTMLCanvasElement} canvas\n * @param {number} canvasWidth\n * @param {number} canvasHeight\n * @param {number} clientWidth\n * @param {number} clientHeight\n */\nexport function resizeForFit(\n  canvas,\n  canvasWidth,\n  canvasHeight,\n  clientWidth,\n  clientHeight\n) {\n  const ratioX = clientWidth / canvasWidth;\n  const ratioY = clientHeight / canvasHeight;\n  if (ratioX < ratioY) {\n    canvasWidth = Math.floor(clientWidth);\n    canvasHeight = Math.floor(canvasHeight * ratioX);\n    canvas.style.setProperty('width', `${canvasWidth}px`);\n    canvas.style.setProperty('height', `${canvasHeight}px`);\n  } else {\n    canvasWidth = Math.floor(canvasWidth * ratioY);\n    canvasHeight = Math.floor(clientHeight);\n    canvas.style.setProperty('width', `${canvasWidth}px`);\n    canvas.style.setProperty('height', `${canvasHeight}px`);\n  }\n  if (canvas.width !== canvasWidth) {\n    canvas.width = canvasWidth;\n  }\n  if (canvas.height !== canvasHeight) {\n    canvas.height = canvasHeight;\n  }\n}\n\n/**\n * @param {HTMLCanvasElement} canvas\n * @param {number} canvasWidth\n * @param {number} canvasHeight\n * @param {number} clientWidth\n * @param {number} clientHeight\n */\nexport function resizeForFill(\n  canvas,\n  canvasWidth,\n  canvasHeight,\n  clientWidth,\n  clientHeight\n) {\n  const ratioX = clientWidth / canvasWidth;\n  const ratioY = clientHeight / canvasHeight;\n  if (ratioX < ratioY) {\n    canvasWidth = Math.floor(clientWidth);\n    canvasHeight = Math.floor(clientHeight);\n    canvas.style.setProperty('width', `${canvasWidth}px`);\n    canvas.style.setProperty('height', `${canvasHeight}px`);\n  } else {\n    canvasWidth = Math.floor(clientWidth);\n    canvasHeight = Math.floor(clientHeight);\n    canvas.style.setProperty('width', `${canvasWidth}px`);\n    canvas.style.setProperty('height', `${canvasHeight}px`);\n  }\n  if (canvas.width !== canvasWidth) {\n    canvas.width = canvasWidth;\n  }\n  if (canvas.height !== canvasHeight) {\n    canvas.height = canvasHeight;\n  }\n}\n","/**\n * @param {import('./FlexCanvas').SizingMode} containerType \n * @param {HTMLElement} element\n */\nexport function matchDimensionTo(containerType, element) {\n  switch(containerType) {\n    case 'none':\n      matchDimensionToNone(element);\n      return;\n    case 'container':\n      matchDimensionToContainer(element);\n      return;\n    case 'viewport':\n      matchDimensionToViewport(element);\n      return;\n    default:\n      // NOTE: This is not a known sizing value, skip it.\n  }\n}\n\n/**\n * @param {HTMLElement} element \n */\nexport function matchDimensionToNone(element) {\n  element.style.removeProperty('width');\n  element.style.removeProperty('height');\n}\n\n/**\n * @param {HTMLElement} element \n */\nexport function matchDimensionToContainer(element) {\n  element.style.setProperty('width', '100%');\n  element.style.setProperty('height', '100%');\n}\n\n/**\n * @param {HTMLElement} element \n */\nexport function matchDimensionToViewport(element) {\n  element.style.setProperty('width', '100vw');\n  element.style.setProperty('height', '100vh');\n}\n","import INNER_STYLE from './FlexCanvas.style';\nimport INNER_HTML from './FlexCanvas.template';\nimport { resizeFor } from './FlexCanvasScaling';\nimport { matchDimensionTo } from './FlexCanvasSizing';\n\n/** @typedef {ScalingModes[keyof ScalingModes]} ScalingMode */\n\n/**\n * The supported ways to scale pixes when canvas resizes.\n */\nconst ScalingModes = /** @type {const} */ ({\n  /**\n   * No scaling is applied. The canvas size maintains a\n   * 1:1 pixel ratio to the defined display dimensions.\n   */\n  NOSCALE: 'noscale',\n  /**\n   * Scales the canvas to fill the entire viewport and\n   * maintains the same aspect ratio. This will adjust\n   * canvas resolution to fit the viewport dimensions.\n   * In other words, the canvas pixel size remains\n   * constant, but the number of pixels in the canvas\n   * will increase or decrease to compensate.\n   */\n  FIT: 'fit',\n  /**\n   * Scales the canvas to fill the entire viewport and\n   * maintains the same aspect ratio and pixel\n   * resolution. This will upscale and downscale the\n   * pixel size depending on the viewport dimentions\n   * in order to preserve the canvas pixel count. In\n   * other words, the number of pixels in the canvas\n   * remain constant but appear larger or smaller to\n   * compensate. This is the default scaling mode.\n   */\n  SCALE: 'scale',\n  /**\n   * Resizes the canvas to fill the entire viewport.\n   * This does not maintain the aspect ratio nor pixel\n   * count (adds and removes pixels to fill size). If you\n   * care about aspect ratio but not pixel count, consider\n   * using 'fit' mode instead.\n   */\n  FILL: 'fill',\n  /**\n   * Scales the canvas to fill the entire viewport.\n   * This does not maintain the aspect ratio but\n   * does preserve pixel count (by stretching the pixel\n   * size). If you care about aspect ratio and pixel\n   * count, consider using 'scale' mode instead.\n   */\n  STRETCH: 'stretch',\n});\n\n/** @typedef {SizingModes[keyof SizingModes]} SizingMode */\n\n/**\n * The supported containers to match to for canvas dimensions.\n */\nconst SizingModes = /** @type {const} */ ({\n  /**\n   * Sizes to the original canvas width and height.\n   */\n  NONE: 'none',\n  /**\n   * Sizes to 100% of parent container.\n   */\n  CONTAINER: 'container',\n  /**\n   * Sizes to 100vw/h of viewport.\n   */\n  VIEWPORT: 'viewport',\n});\n\n/**\n * The default display x dimensions. This is\n * the same as the canvas element default.\n */\nconst DEFAULT_WIDTH = 300;\n/**\n * The default display y dimensions. This is\n * the same as the canvas element default.\n */\nconst DEFAULT_HEIGHT = 150;\n\nconst TEMPLATE_NODE = Symbol.for('templateNode');\nconst TEMPLATE_STYLE = Symbol.for('styleNode');\n\n/**\n * A canvas wrapper to scale and stretch with respect to the aspect ratio to fill the viewport or container.\n */\nexport class FlexCanvas extends HTMLElement {\n\n  static define(name = 'flex-canvas') {\n    window.customElements.define(name, this);\n  }\n\n  /** @private */\n  static get [TEMPLATE_NODE]() {\n    let t = document.createElement('template');\n    t.innerHTML = INNER_HTML;\n    Object.defineProperty(this, TEMPLATE_NODE, { value: t });\n    return t;\n  }\n\n  /** @private */\n  static get [TEMPLATE_STYLE]() {\n    let t = document.createElement('style');\n    t.innerHTML = INNER_STYLE;\n    Object.defineProperty(this, TEMPLATE_STYLE, { value: t });\n    return t;\n  }\n\n  /**\n   * Override web component behavior.\n   * @protected\n   */\n  static get observedAttributes() {\n    return ['sizing', 'width', 'height'];\n  }\n\n  /**\n   * The scaling mode.\n   * - `noscale`: Do not perform scaling.\n   * - `fit`: Resize resolution to fill the entire viewport and maintains the aspect\n   * ratio. The pixel resolution is changed. This is the default behavior.\n   * - `fill`: Resize resolution to fill the entire viewport but does not maintain\n   * aspect ratio.\n   * - `stretch`: Perform scaling to fill the entire viewport but does not maintain\n   * aspect ratio.\n   * - `scale`: Perform scaling to fill the entire viewport and maintains the\n   * aspect ratio and resolution. The pixel resolution remains constant.\n   */\n  get scaling() {\n    return /** @type {ScalingMode} */ (this.getAttribute('scaling'));\n  }\n\n  set scaling(value) {\n    this.setAttribute('scaling', value);\n  }\n\n  /**\n   * The sizing mode.\n   * - `none`: Sizes to canvas.\n   * - `container`: Sizes to 100% of parent container.\n   * - `viewport`: Sizes to 100% of viewport.\n   */\n  get sizing() {\n    return /** @type {SizingMode} */ (this._sizing);\n  }\n\n  set sizing(value) {\n    this.setAttribute('sizing', String(value));\n  }\n\n  /**\n   * The canvas width in pixels. This determines the aspect ratio and canvas buffer size.\n   * @returns {number}\n   */\n  get width() {\n    return this._width;\n  }\n\n  set width(value) {\n    this.setAttribute('width', String(value));\n  }\n\n  /**\n   * The canvas height in pixels. This determines the aspect ratio and canvas buffer size.\n   * @returns {number}\n   */\n  get height() {\n    return this._height;\n  }\n\n  set height(value) {\n    this.setAttribute('height', String(value));\n  }\n\n  get canvas() {\n    return this.canvasElement;\n  }\n\n  /**\n   * @param {object} [opts]\n   * @param {HTMLElement} [opts.root]\n   * @param {SizingMode} [opts.sizing]\n   * @param {number} [opts.width]\n   * @param {number} [opts.height]\n   * @param {number} [opts.aspectRatio]\n   * @param {ScalingMode} [opts.forceScaling]\n   */\n  constructor(opts = undefined) {\n    super();\n    const shadowRoot = this.attachShadow({ mode: 'open' });\n    const constructor = /** @type {typeof FlexCanvas} */ (this.constructor);\n    const templateNode = /** @type {HTMLTemplateElement} */ (\n      // @ts-ignore\n      constructor[TEMPLATE_NODE]\n    );\n    const styleNode = /** @type {HTMLStyleElement} */ (\n      // @ts-ignore\n      constructor[TEMPLATE_STYLE]\n    );\n    shadowRoot.appendChild(templateNode.content.cloneNode(true));\n    shadowRoot.appendChild(styleNode.cloneNode(true));\n\n    /**\n     * @private\n     * @type {SizingMode}\n     */\n    this._sizing = 'none';\n    /** @private */\n    this._width = DEFAULT_WIDTH;\n    /** @private */\n    this._height = DEFAULT_HEIGHT;\n\n    /** @private */\n    this.animationFrameHandle = 0;\n\n    /**\n     * @private\n     * @readonly\n     */\n    this.resizeDelay = 0;\n    /** @private */\n    this.resizeTimeoutHandle = 0;\n    /** @private */\n    this.resizeCanvasWidth = 0;\n    /** @private */\n    this.resizeCanvasHeight = 0;\n\n    /** @private */\n    this.canvasSlotElement = /** @type {HTMLSlotElement} */ (\n      shadowRoot.querySelector('slot')\n    );\n    /**\n     * @private\n     * @type {HTMLCanvasElement|null}\n     */\n    this.canvasElement = null;\n\n    /** @private */\n    this.onResize = this.onResize.bind(this);\n    /** @private */\n    this.onAnimationFrame = this.onAnimationFrame.bind(this);\n    /** @private */\n    this.onSlotChange = this.onSlotChange.bind(this);\n\n    if (typeof opts !== 'undefined') {\n      const hasFixedWidthOrHeight =\n        typeof opts.width !== 'undefined' || typeof opts.height !== 'undefined';\n      const hasFixedAspectRatio = typeof opts.aspectRatio !== 'undefined';\n      if (hasFixedWidthOrHeight) {\n        let width = Math.round(Number(opts.width));\n        let height = Math.round(Number(opts.height));\n        this.width = width;\n        this.height = height;\n        if (hasFixedAspectRatio) {\n          // Verify the numbers match.\n          let ar = Number(opts.aspectRatio);\n          let expectedWidth = Math.round(height * ar);\n          if (expectedWidth !== width) {\n            throw new Error(\n              'Flex canvas width and height dimensions did not match given' +\n                ` aspect ratio '${ar}' - expected width to be ${expectedWidth} but was ${width}.`\n            );\n          }\n        }\n        if (!opts.forceScaling) {\n          this.scaling = ScalingModes.SCALE;\n        }\n      } else if (hasFixedAspectRatio) {\n        let ar = Number(opts.aspectRatio);\n        let height = DEFAULT_HEIGHT;\n        let expectedWidth = height * ar;\n        this.width = expectedWidth;\n        this.height = height;\n        if (!opts.forceScaling) {\n          this.scaling = ScalingModes.FIT;\n        }\n      } else if (!opts.forceScaling) {\n        this.scaling = ScalingModes.FILL;\n      }\n\n      if (opts.forceScaling) {\n        this.scaling = opts.forceScaling;\n      }\n\n      if (opts.sizing) {\n        this.sizing = opts.sizing;\n      } else if (!hasFixedAspectRatio) {\n        this.sizing = SizingModes.NONE;\n      } else {\n        this.sizing = SizingModes.CONTAINER;\n      }\n\n      if (opts.root) {\n        opts.root.appendChild(this);\n      }\n    }\n  }\n\n  /**\n   * Override web component behavior.\n   * @protected\n   */\n  connectedCallback() {\n    upgradeProperty(this, 'scaling');\n    upgradeProperty(this, 'sizing');\n    upgradeProperty(this, 'width');\n    upgradeProperty(this, 'height');\n\n    // Scaling mode\n    if (!this.hasAttribute('scaling')) {\n      this.setAttribute('scaling', ScalingModes.SCALE);\n    }\n\n    // Allows this element to be focusable\n    if (!this.hasAttribute('tabindex')) {\n      this.setAttribute('tabindex', '0');\n    }\n\n    this.animationFrameHandle = requestAnimationFrame(this.onAnimationFrame);\n    this.canvasSlotElement.addEventListener('slotchange', this.onSlotChange);\n    if (!this.canvasElement) {\n      let canvas = /** @type {HTMLCanvasElement} */ (\n        this.canvasSlotElement.querySelector('canvas')\n      );\n      this.setCanvasElement(canvas);\n    }\n  }\n\n  /**\n   * Override web component behavior.\n   * @protected\n   */\n  disconnectedCallback() {\n    cancelAnimationFrame(this.animationFrameHandle);\n    this.animationFrameHandle = 0;\n    this.canvasSlotElement.removeEventListener('slotchange', this.onSlotChange);\n  }\n\n  /**\n   * Override web component behavior.\n   * @protected\n   * @param {string} attribute\n   * @param {string} _prev\n   * @param {string} value\n   */\n  attributeChangedCallback(attribute, _prev, value) {\n    switch (attribute) {\n      case 'sizing':\n        // @ts-ignore\n        this._sizing = String(value);\n        matchDimensionTo(this._sizing, this);\n        break;\n      case 'width':\n        this._width = Number(value);\n        if (this.canvasElement) {\n          this.canvasElement.width = this._width;\n        }\n        break;\n      case 'height':\n        this._height = Number(value);\n        if (this.canvasElement) {\n          this.canvasElement.height = this._height;\n        }\n        break;\n    }\n  }\n\n  /**\n   * @private\n   * @param {number} _now\n   */\n  onAnimationFrame(_now) {\n    this.animationFrameHandle = requestAnimationFrame(this.onAnimationFrame);\n\n    if (\n      this.clientWidth === this.resizeCanvasWidth &&\n      this.clientHeight === this.resizeCanvasHeight\n    ) {\n      // Only call onDebounceResize() if new canvas size actually changed since last time.\n      return;\n    }\n\n    this.resizeCanvasWidth = this.clientWidth;\n    this.resizeCanvasHeight = this.clientHeight;\n\n    if (this.resizeDelay > 0) {\n      if (!this.resizeTimeoutHandle) {\n        this.resizeTimeoutHandle = window.setTimeout(\n          this.onResize,\n          this.resizeDelay\n        );\n      }\n    } else {\n      this.onResize();\n    }\n  }\n\n  /** @private */\n  onResize() {\n    window.clearTimeout(this.resizeTimeoutHandle);\n    this.resizeTimeoutHandle = 0;\n\n    const canvas = this.canvasElement;\n    if (!canvas) {\n      return;\n    }\n\n    const scaling = this.scaling;\n    resizeFor(scaling, this, canvas, this._width, this._height);\n  }\n\n  /**\n   * @private\n   * @param {Event} e\n   */\n  onSlotChange(e) {\n    const slot = /** @type {HTMLSlotElement} */ (e.target);\n    let children = slot.assignedElements({ flatten: true });\n    let canvas = /** @type {HTMLCanvasElement} */ (\n      children.find((el) => el instanceof HTMLCanvasElement)\n    );\n    if (canvas) {\n      this.setCanvasElement(canvas);\n    }\n  }\n\n  /**\n   * @private\n   * @param {HTMLCanvasElement} canvas\n   */\n  setCanvasElement(canvas) {\n    canvas.width = this._width;\n    canvas.height = this._height;\n    canvas.style.imageRendering = 'pixelated';\n    this.canvasElement = canvas;\n  }\n\n  /**\n   * @template {keyof GetRenderingContext} T\n   * @param {T} contextId\n   * @param {GetRenderingContextOptions[T]} [options]\n   * @returns {GetRenderingContext[T]}\n   */\n  getContext(contextId, options = undefined) {\n    let result = this.canvasElement?.getContext(contextId, options);\n    if (result && contextId === '2d') {\n      // NOTE: Disable smoothing for pixel-perfect rendering.\n      /** @type {CanvasRenderingContext2D} */ (result).imageSmoothingEnabled =\n        false;\n    }\n    return /** @type {GetRenderingContext[T]} */ (result);\n  }\n}\n\n/**\n * @typedef {'2d'|'webgl'|'webgl2'|'bitmaprenderer'} ContextId\n * @typedef {{\n *  '2d': CanvasRenderingContext2D,\n *  'webgl': WebGLRenderingContext,\n *  'webgl2': WebGL2RenderingContext,\n *  'bitmaprenderer': ImageBitmapRenderingContext\n * }} GetRenderingContext\n * @typedef {{\n *  '2d': CanvasRenderingContext2DSettings,\n *  'webgl': WebGLContextAttributes,\n *  'webgl2': WebGLContextAttributes,\n *  'bitmaprenderer': ImageBitmapRenderingContextSettings\n * }} GetRenderingContextOptions\n */\n\n/**\n * @template {HTMLElement} T\n * @param {T} element\n * @param {keyof T} propertyName\n */\nfunction upgradeProperty(element, propertyName) {\n  if (Object.prototype.hasOwnProperty.call(element, propertyName)) {\n    let value = element[propertyName];\n    delete element[propertyName];\n    element[propertyName] = value;\n  }\n}\n","import { FlexCanvas } from './FlexCanvas';\n\nexport * from './FlexCanvas';\n\nFlexCanvas.define('flex-canvas');\n"],"names":[],"mappings":"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"}