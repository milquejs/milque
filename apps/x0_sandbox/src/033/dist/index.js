!function(){"use strict";class t extends HTMLElement{static get[Symbol.for("cuttleTemplate")](){let t=document.createElement("template");return t.innerHTML='<fieldset>\n    <legend>Console</legend>\n    <output></output>\n    <button id="scrollTop" class="scrollButton hidden">Scroll to Top</button>\n    <button id="scrollBottom" class="scrollButton hidden">Scroll to Bottom</button>\n    <div class="inputContainer">\n        <span>&gt;&nbsp;</span><input>\n    </div>\n</fieldset>\n',Object.defineProperty(this,Symbol.for("cuttleTemplate"),{value:t}),t}static get[Symbol.for("cuttleStyle")](){let t=document.createElement("style");return t.innerHTML=":host{display:block;height:12rem}fieldset{display:flex;flex-direction:column;position:relative;padding:.5em;font-family:monospace;background-color:#eee;height:inherit}fieldset,output{overflow-x:hidden}output{flex:1;display:block;overflow-y:auto;height:100%}p,pre{margin:0}input{flex:1;font-family:monospace;border:none;outline-color:currentColor;background-color:transparent;color:currentColor}.inputContainer{display:flex;margin-top:.5em}#scrollTop{top:2em}#scrollBottom{bottom:3.5em}.scrollButton{font-family:monospace;font-size:.5em;position:absolute;padding:.5em;left:0;right:0;margin-left:auto;margin-right:auto;border-radius:1em;border:none;outline-color:currentColor;background-color:#ccc;color:currentColor;opacity:1;transition:opacity .3s ease}.hidden{opacity:0}",Object.defineProperty(this,Symbol.for("cuttleStyle"),{value:t}),t}static get customEvents(){return["input","command","autocomplete"]}get onautocomplete(){return this._onautocomplete}set onautocomplete(t){this._onautocomplete&&this.removeEventListener("autocomplete",this._onautocomplete),this._onautocomplete=t,this._onautocomplete&&this.addEventListener("autocomplete",t)}get oncommand(){return this._oncommand}set oncommand(t){this._oncommand&&this.removeEventListener("command",this._oncommand),this._oncommand=t,this._oncommand&&this.addEventListener("command",t)}get oninput(){return this._oninput}set oninput(t){this._oninput&&this.removeEventListener("input",this._oninput),this._oninput=t,this._oninput&&this.addEventListener("input",t)}constructor(){super(),this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(this.constructor[Symbol.for("cuttleTemplate")].content.cloneNode(!0)),this.shadowRoot.appendChild(this.constructor[Symbol.for("cuttleStyle")].cloneNode(!0)),this._inputElement=this.shadowRoot.querySelector("input"),this._outputElement=this.shadowRoot.querySelector("output"),this._scrollTopElement=this.shadowRoot.querySelector("#scrollTop"),this._scrollBottomElement=this.shadowRoot.querySelector("#scrollBottom"),this._autoscroll=!0,this._prevscroll=0,this.onInputChange=this.onInputChange.bind(this),this.onInputKeyDown=this.onInputKeyDown.bind(this),this.onOutputScroll=this.onOutputScroll.bind(this),this.onScrollTopClick=this.onScrollTopClick.bind(this),this.onScrollBottomClick=this.onScrollBottomClick.bind(this),this._inputElement.addEventListener("input",this.onInputChange),this._inputElement.addEventListener("keydown",this.onInputKeyDown),this._outputElement.addEventListener("scroll",this.onOutputScroll),this._scrollTopElement.addEventListener("click",this.onScrollTopClick),this._scrollBottomElement.addEventListener("click",this.onScrollBottomClick)}newline(t=""){const e=document.createElement("p"),o=document.createElement("pre");o.innerHTML=t.trim()||"&nbsp;",e.appendChild(o),this._outputElement.appendChild(e),this._autoscroll&&this._outputElement.scrollTo(0,this._outputElement.scrollHeight)}clear(){this._outputElement.innerHTML=""}onInputChange(t){const e=t.target,o=e.value,n=t.data;this.dispatchEvent(new CustomEvent("input",{composed:!0,bubbles:!1,detail:{target:e,value:o,data:n}}))}onInputKeyDown(t){if("Enter"===t.key){const e=t.target,o=e.value;return t.target.value="",this.dispatchEvent(new CustomEvent("command",{composed:!0,bubbles:!1,detail:{target:e,value:o}})),t.preventDefault(),t.stopPropagation(),!1}if("Tab"===t.key){const e=t.target,o=e.value;return this.dispatchEvent(new CustomEvent("autocomplete",{composed:!0,bubbles:!1,detail:{target:e,value:o}})),t.preventDefault(),t.stopPropagation(),!1}}onOutputScroll(t){const e=t.target,o=e.scrollTop,n=e.scrollHeight-e.clientHeight,i=o/n;let l=i-this._prevscroll>0,s=i>=1;this._prevscroll=i,this._autoscroll=s;let r=o<300||o>n-300;this._scrollTopElement.classList.toggle("hidden",s||r||l),this._scrollBottomElement.classList.toggle("hidden",s||r||!l)}onScrollTopClick(){this._outputElement.scrollTo({top:0,behavior:"smooth"})}onScrollBottomClick(){this._outputElement.scrollTo(0,this._outputElement.scrollHeight)}connectedCallback(){if(Object.prototype.hasOwnProperty.call(this,"oninput")){let t=this.oninput;delete this.oninput,this.oninput=t}if(Object.prototype.hasOwnProperty.call(this,"oncommand")){let t=this.oncommand;delete this.oncommand,this.oncommand=t}if(Object.prototype.hasOwnProperty.call(this,"onautocomplete")){let t=this.onautocomplete;delete this.onautocomplete,this.onautocomplete=t}}static get observedAttributes(){return["oninput","oncommand","onautocomplete"]}attributeChangedCallback(t,e,o){switch(t){case"oninput":this.oninput=new Function("event","with(document){with(this){"+o+"}}").bind(this);break;case"oncommand":this.oncommand=new Function("event","with(document){with(this){"+o+"}}").bind(this);break;case"onautocomplete":this.onautocomplete=new Function("event","with(document){with(this){"+o+"}}").bind(this)}}}window.customElements.define("console-view",t);class e extends HTMLElement{static get[Symbol.for("cuttleTemplate")](){let t=document.createElement("template");return t.innerHTML='<dialog class="container">\n    <p class="inner">\n        <slot id="message">\n            Hello World!\n        </slot>\n    </p>\n</dialog>\n',Object.defineProperty(this,Symbol.for("cuttleTemplate"),{value:t}),t}static get[Symbol.for("cuttleStyle")](){let t=document.createElement("style");return t.innerHTML='.container{bottom:0;margin-top:1rem;margin-bottom:1rem;padding:.5rem 1rem;background-color:#fff;border-radius:.8rem;box-shadow:0 0 .5rem rgba(0,0,0,.5);-webkit-animation-duration:3s;animation-duration:3s}.container>p{margin:0}.container:has("open"){-webkit-animation-name:fadeOut;animation-name:fadeOut}.top{top:0;bottom:unset}.bottom{top:unset;bottom:0}@-webkit-keyframes fadeOut{0%{opacity:1}to{opacity:0}}@keyframes fadeOut{0%{opacity:1}to{opacity:0}}',Object.defineProperty(this,Symbol.for("cuttleStyle"),{value:t}),t}constructor(){super(),this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(this.constructor[Symbol.for("cuttleTemplate")].content.cloneNode(!0)),this.shadowRoot.appendChild(this.constructor[Symbol.for("cuttleStyle")].cloneNode(!0)),this._containerElement=this.shadowRoot.querySelector(".container"),this._messageElement=this.shadowRoot.querySelector("#message"),this.postTimeout=null,this.onPostTimeout=this.onPostTimeout.bind(this)}post(t,e=1e3){this._containerElement.toggleAttribute("open",!0),this._messageElement.innerHTML=t,clearTimeout(this.postTimeout),this.postTimeout=setTimeout(this.onPostTimeout,e)}onPostTimeout(){this._containerElement.toggleAttribute("open",!1),this.postTimeout=null}}window.customElements.define("toast-view",e);class o extends HTMLElement{static get[Symbol.for("cuttleTemplate")](){let t=document.createElement("template");return t.innerHTML='<dialog open class="container">\n    <h3>Error</h3>\n    <p class="inner">\n        DFBO\n    </p>\n</dialog>\n',Object.defineProperty(this,Symbol.for("cuttleTemplate"),{value:t}),t}static get[Symbol.for("cuttleStyle")](){let t=document.createElement("style");return t.innerHTML=".container{margin-top:1rem;margin-bottom:1rem;padding:1rem;background-color:tomato;border-width:0;border-radius:.8rem;box-shadow:0 0 .5rem rgba(0,0,0,.5);min-width:10rem}h3{text-decoration:underline}h3,p{margin:0}p{padding:.5rem;background-color:hsla(0,0%,100%,.2)}",Object.defineProperty(this,Symbol.for("cuttleStyle"),{value:t}),t}constructor(){super(),this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(this.constructor[Symbol.for("cuttleTemplate")].content.cloneNode(!0)),this.shadowRoot.appendChild(this.constructor[Symbol.for("cuttleStyle")].cloneNode(!0)),this._containerElement=this.shadowRoot.querySelector(".container")}}window.customElements.define("error-dialog",o),window.addEventListener("DOMContentLoaded",(async function(){}))}();
