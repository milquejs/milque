<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Nautica</title>

        <style>body { margin: 0; }</style>
    </head>
    <body>
        <display-port debug full></display-port>
        <view-port for="main" offsetX="0" offsetY="0" width="100" height="100"></view-port>
        <script type="module">
            import { Game } from './milque.js';
            import * as Nautica from './Nautica.js';

            let game = null;
            window.addEventListener('load', () => {
                Game.loadGame(Nautica).then(instance => {
                    return Game.startGame(game = instance);
                });
            });
            window.addEventListener('beforeunload', () => {
                Game.stopGame(game);
                Game.unloadGame(game);
            });
        </script>
    </body>
</html>